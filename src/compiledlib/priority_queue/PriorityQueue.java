package compiledlib.priority_queue;
import java.security.SecureRandom;

import oram.SecureArray;
import oram.CircuitOram;
import flexsc.Mode;
import flexsc.Party;
import flexsc.CompEnv;

import java.util.BitSet;

import circuits.arithmetic.IntegerLib;
import circuits.arithmetic.FloatLib;
import util.Utils;
import gc.regular.GCEva;
import gc.regular.GCGen;
import gc.GCSignal;

import java.util.Arrays;
import java.util.Random;

import flexsc.IWritable;
import flexsc.Comparator;

import java.lang.reflect.Array;
public class PriorityQueue<T extends IWritable<T,GCSignal>> {
	public CircuitOram<GCSignal> poram;
	public GCSignal[] size;
	public NodeId root;

	public CompEnv<GCSignal> env;
	public IntegerLib<GCSignal> intLib;
	private T factoryT;
	private int m;

	public PriorityQueue(CompEnv<GCSignal> env, IntegerLib<GCSignal> intLib, int m, T factoryT, CircuitOram<GCSignal> poram) throws Exception {
		this.env = env;
		this.intLib = intLib;
		this.m = m;
		this.factoryT = factoryT;
		this.poram = poram;
		this.size = env.inputOfAlice(Utils.fromInt(0, m));
		this.root = new NodeId(env, intLib, m);
	}

	public void init() throws Exception {
		GCSignal[] f_tmp_0 = intLib.randBools(m);
		GCSignal[] __tmp0 = f_tmp_0;
		NodeId f_tmp_1 = this.root;
		NodeId __tmp1 = f_tmp_1;
		__tmp1.pos = __tmp0;
		int f_tmp_2 = 0;
		int __tmp2 = f_tmp_2;
		GCSignal[] f_tmp_3 = env.inputOfAlice(Utils.fromInt(__tmp2, m));
		this.size = f_tmp_3;
		int f_tmp_4 = 0;
		int __tmp3 = f_tmp_4;
		NodeId f_tmp_5 = this.root;
		NodeId __tmp4 = f_tmp_5;
		GCSignal[] f_tmp_6 = env.inputOfAlice(Utils.fromInt(__tmp3, m));
		__tmp4.id = f_tmp_6;

	}
	public KeyValue<T> pqueue_op(GCSignal[] key, T operand, GCSignal op) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, intLib, m, factoryT);
		KeyValue<T> d = new KeyValue<T>(env, intLib, m, factoryT);
		GCSignal insert_dummy_bit = env.inputOfAlice(false);
		GCSignal pop_dummy_bit = env.inputOfAlice(false);
		KeyValue<T> f_tmp_7 = new KeyValue<T>(env, intLib, m, factoryT);
		f_tmp_7.value = operand;
		f_tmp_7.key = key;
		KeyValue<T> __tmp5 = f_tmp_7;
		d = __tmp5;
		boolean f_tmp_8 = true;
		boolean __tmp6 = f_tmp_8;
		GCSignal f_tmp_10 = env.inputOfAlice(__tmp6);
		GCSignal f_tmp_9 = intLib.eq(op, f_tmp_10);
		GCSignal __tmp7 = f_tmp_9;
		boolean f_tmp_11 = false;
		boolean __tmp8 = f_tmp_11;
		GCSignal f_tmp_13 = env.inputOfAlice(__tmp8);
		GCSignal f_tmp_12 = intLib.mux(insert_dummy_bit, f_tmp_13,__tmp7);
		GCSignal __tmp9 = f_tmp_12;
		insert_dummy_bit = __tmp9;
		boolean f_tmp_14 = true;
		boolean __tmp10 = f_tmp_14;
		GCSignal f_tmp_16 = env.inputOfAlice(__tmp10);
		GCSignal f_tmp_15 = intLib.mux(pop_dummy_bit, f_tmp_16,__tmp7);
		GCSignal __tmp11 = f_tmp_15;
		pop_dummy_bit = __tmp11;
		GCSignal f_tmp_17 = intLib.not(__tmp7);
		GCSignal __tmp12 = f_tmp_17;
		boolean f_tmp_18 = true;
		boolean __tmp13 = f_tmp_18;
		GCSignal f_tmp_20 = env.inputOfAlice(__tmp13);
		GCSignal f_tmp_19 = intLib.mux(insert_dummy_bit, f_tmp_20,__tmp12);
		GCSignal __tmp14 = f_tmp_19;
		insert_dummy_bit = __tmp14;
		boolean f_tmp_21 = false;
		boolean __tmp15 = f_tmp_21;
		GCSignal f_tmp_23 = env.inputOfAlice(__tmp15);
		GCSignal f_tmp_22 = intLib.mux(pop_dummy_bit, f_tmp_23,__tmp12);
		GCSignal __tmp16 = f_tmp_22;
		pop_dummy_bit = __tmp16;
		KeyValue<T> f_tmp_24 = this.extractMax(pop_dummy_bit);
		KeyValue<T> __tmp17 = f_tmp_24;
		ret = __tmp17;
		this.insert(d, insert_dummy_bit);
		return ret;
	}
	
	public void push(GCSignal[] key, T operand, GCSignal dummy_bit) throws Exception {
		KeyValue<T> d = new KeyValue<T>(env, intLib, m, factoryT);
		KeyValue<T> f_tmp_26 = new KeyValue<T>(env, intLib, m, factoryT);
		f_tmp_26.value = operand;
		f_tmp_26.key = key;
		KeyValue<T> __tmp19 = f_tmp_26;
		d = __tmp19;
		this.insert(d, dummy_bit);
	}
	public KeyValue<T> pop(GCSignal dummy_bit) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, intLib, m, factoryT);
		KeyValue<T> f_tmp_28 = this.extractMax(dummy_bit);
		KeyValue<T> __tmp21 = f_tmp_28;
		ret = __tmp21;
		return ret;
	}
	public GCSignal[] right_shift(GCSignal[] id, int s) throws Exception {
		GCSignal[] ret = env.inputOfAlice(Utils.fromInt(0, m));
		int i = 0;
		ret = id;
		int f_tmp_29 = 0;
		int __tmp22 = f_tmp_29;
		i = __tmp22;
		boolean f_tmp_30 = i < s;
		boolean __tmp23 = f_tmp_30;
		while(__tmp23) {
			int f_tmp_31 = 1;
			int __tmp24 = f_tmp_31;
			GCSignal[] f_tmp_32 = intLib.rightPublicShift(ret, __tmp24);
			GCSignal[] __tmp25 = f_tmp_32;
			ret = __tmp25;
			int f_tmp_33 = 1;
			int __tmp26 = f_tmp_33;
			int f_tmp_34 = i + __tmp26;
			int __tmp27 = f_tmp_34;
			i = __tmp27;
			boolean f_tmp_35 = i < s;
			__tmp23 = f_tmp_35;
		}
		return ret;
	}
	public GCSignal should_go_left(GCSignal[] id, int level) throws Exception {
		GCSignal ret = env.inputOfAlice(false);
		GCSignal[] res = env.inputOfAlice(Utils.fromInt(0, m));
		GCSignal[] tmpid = env.inputOfAlice(Utils.fromInt(0, m));
		int i = 0;
		GCSignal[] toshift = env.inputOfAlice(Utils.fromInt(0, m));
		int f_tmp_36 = 1;
		int __tmp28 = f_tmp_36;
		int f_tmp_37 = m - __tmp28;
		int __tmp29 = f_tmp_37;
		boolean f_tmp_38 = level >= __tmp29;
		boolean __tmp30 = f_tmp_38;
		if(__tmp30) {
			boolean f_tmp_39 = true;
			boolean __tmp31 = f_tmp_39;
			ret = env.inputOfAlice(__tmp31);
		} else {
			int f_tmp_40 = 0;
			int __tmp32 = f_tmp_40;
			res = env.inputOfAlice(Utils.fromInt(__tmp32, m));
			tmpid = id;
			int f_tmp_41 = 0;
			int __tmp33 = f_tmp_41;
			i = __tmp33;
			int f_tmp_42 = 0;
			int __tmp34 = f_tmp_42;
			i = __tmp34;
			boolean f_tmp_43 = i < m;
			boolean __tmp35 = f_tmp_43;
			while(__tmp35) {
				int f_tmp_44 = 1;
				int __tmp36 = f_tmp_44;
				GCSignal[] f_tmp_46 = env.inputOfAlice(Utils.fromInt(__tmp36, m));
				GCSignal f_tmp_45 = intLib.eq(tmpid, f_tmp_46);
				GCSignal __tmp37 = f_tmp_45;
				GCSignal[] f_tmp_48 = env.inputOfAlice(Utils.fromInt(i, m));
				GCSignal[] f_tmp_47 = intLib.mux(res, f_tmp_48,__tmp37);
				GCSignal[] __tmp38 = f_tmp_47;
				res = __tmp38;
				GCSignal f_tmp_49 = intLib.not(__tmp37);
				GCSignal __tmp39 = f_tmp_49;
				int f_tmp_50 = 1;
				int __tmp40 = f_tmp_50;
				GCSignal[] f_tmp_51 = intLib.rightPublicShift(tmpid, __tmp40);
				GCSignal[] __tmp41 = f_tmp_51;
				tmpid = __tmp41;
				int f_tmp_52 = 1;
				int __tmp42 = f_tmp_52;
				int f_tmp_53 = i + __tmp42;
				int __tmp43 = f_tmp_53;
				i = __tmp43;
				boolean f_tmp_54 = i < m;
				__tmp35 = f_tmp_54;
			}
			tmpid = id;
			GCSignal[] f_tmp_56 = env.inputOfAlice(Utils.fromInt(level, m));
			GCSignal[] f_tmp_55 = intLib.sub(res,f_tmp_56);
			GCSignal[] __tmp44 = f_tmp_55;
			toshift = __tmp44;
			int f_tmp_57 = 0;
			int __tmp45 = f_tmp_57;
			i = __tmp45;
			boolean f_tmp_58 = i < m;
			boolean __tmp46 = f_tmp_58;
			while(__tmp46) {
				int f_tmp_59 = 0;
				int __tmp47 = f_tmp_59;
				GCSignal[] f_tmp_61 = env.inputOfAlice(Utils.fromInt(__tmp47, m));
				GCSignal f_tmp_60 = intLib.not(intLib.leq(toshift, f_tmp_61));
				GCSignal __tmp48 = f_tmp_60;
				int f_tmp_62 = 1;
				int __tmp49 = f_tmp_62;
				GCSignal[] f_tmp_63 = intLib.rightPublicShift(tmpid, __tmp49);
				GCSignal[] __tmp50 = f_tmp_63;
				GCSignal[] f_tmp_64 = intLib.mux(tmpid, __tmp50,__tmp48);
				GCSignal[] __tmp51 = f_tmp_64;
				tmpid = __tmp51;
				int f_tmp_65 = 1;
				int __tmp52 = f_tmp_65;
				GCSignal[] f_tmp_67 = env.inputOfAlice(Utils.fromInt(__tmp52, m));
				GCSignal[] f_tmp_66 = intLib.sub(toshift,f_tmp_67);
				GCSignal[] __tmp53 = f_tmp_66;
				GCSignal[] f_tmp_68 = intLib.mux(toshift, __tmp53,__tmp48);
				GCSignal[] __tmp54 = f_tmp_68;
				toshift = __tmp54;
				GCSignal f_tmp_69 = intLib.not(__tmp48);
				GCSignal __tmp55 = f_tmp_69;
				int f_tmp_70 = 1;
				int __tmp56 = f_tmp_70;
				int f_tmp_71 = i + __tmp56;
				int __tmp57 = f_tmp_71;
				i = __tmp57;
				boolean f_tmp_72 = i < m;
				__tmp46 = f_tmp_72;
			}
			int f_tmp_73 = 1;
			int __tmp58 = f_tmp_73;
			GCSignal[] f_tmp_75 = env.inputOfAlice(Utils.fromInt(__tmp58, m));
			GCSignal f_tmp_74 = intLib.eq(id, f_tmp_75);
			GCSignal __tmp59 = f_tmp_74;
			boolean f_tmp_76 = true;
			boolean __tmp60 = f_tmp_76;
			GCSignal f_tmp_78 = env.inputOfAlice(__tmp60);
			GCSignal f_tmp_77 = intLib.mux(ret, f_tmp_78,__tmp59);
			GCSignal __tmp61 = f_tmp_77;
			ret = __tmp61;
			GCSignal f_tmp_79 = intLib.not(__tmp59);
			GCSignal __tmp62 = f_tmp_79;
			int f_tmp_80 = 1;
			int __tmp63 = f_tmp_80;
			GCSignal[] f_tmp_82 = env.inputOfAlice(Utils.fromInt(__tmp63, m));
			GCSignal[] f_tmp_81 = intLib.and(tmpid,f_tmp_82);
			GCSignal[] __tmp64 = f_tmp_81;
			int f_tmp_83 = 0;
			int __tmp65 = f_tmp_83;
			GCSignal[] f_tmp_85 = env.inputOfAlice(Utils.fromInt(__tmp65, m));
			GCSignal f_tmp_84 = intLib.eq(__tmp64, f_tmp_85);
			GCSignal __tmp66 = f_tmp_84;
			GCSignal f_tmp_86 = intLib.and(__tmp62,__tmp66);
			GCSignal __tmp67 = f_tmp_86;
			boolean f_tmp_87 = true;
			boolean __tmp68 = f_tmp_87;
			GCSignal f_tmp_89 = env.inputOfAlice(__tmp68);
			GCSignal f_tmp_88 = intLib.mux(ret, f_tmp_89,__tmp67);
			GCSignal __tmp69 = f_tmp_88;
			ret = __tmp69;
			GCSignal f_tmp_90 = intLib.not(__tmp66);
			GCSignal __tmp70 = f_tmp_90;
			GCSignal f_tmp_91 = intLib.and(__tmp62,__tmp70);
			GCSignal __tmp71 = f_tmp_91;
			boolean f_tmp_92 = false;
			boolean __tmp72 = f_tmp_92;
			GCSignal f_tmp_94 = env.inputOfAlice(__tmp72);
			GCSignal f_tmp_93 = intLib.mux(ret, f_tmp_94,__tmp71);
			GCSignal __tmp73 = f_tmp_93;
			ret = __tmp73;
		}
		return ret;
	}
	public KeyValue<T> extractMax(GCSignal dummy_bit) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, intLib, m, factoryT);
		PriorityQueueNode<T> last_node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		GCSignal newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> root_node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		NodeId f_tmp_95 = this.root;
		NodeId __tmp74 = f_tmp_95;
		int f_tmp_96 = 1;
		int __tmp75 = f_tmp_96;
		PriorityQueueNode<T> f_tmp_97 = this.get_last(__tmp74, __tmp75, dummy_bit);
		PriorityQueueNode<T> __tmp76 = f_tmp_97;
		last_node = __tmp76;
		boolean f_tmp_98 = false;
		boolean __tmp77 = f_tmp_98;
		newdummy_bit = env.inputOfAlice(__tmp77);
		boolean f_tmp_99 = true;
		boolean __tmp78 = f_tmp_99;
		GCSignal f_tmp_101 = env.inputOfAlice(__tmp78);
		GCSignal f_tmp_100 = intLib.eq(dummy_bit, f_tmp_101);
		GCSignal __tmp79 = f_tmp_100;
		int f_tmp_102 = 1;
		int __tmp80 = f_tmp_102;
		NodeId f_tmp_103 = this.root;
		NodeId __tmp81 = f_tmp_103;
		GCSignal[] f_tmp_104 = __tmp81.id;
		GCSignal[] __tmp82 = f_tmp_104;
		GCSignal[] f_tmp_106 = env.inputOfAlice(Utils.fromInt(__tmp80, m));
		GCSignal[] f_tmp_105 = intLib.mux(__tmp82, f_tmp_106,__tmp79);
		GCSignal[] __tmp83 = f_tmp_105;
		__tmp81.id = __tmp83;
		GCSignal[] f_tmp_107 = this.size;
		GCSignal[] __tmp84 = f_tmp_107;
		int f_tmp_108 = 1;
		int __tmp85 = f_tmp_108;
		GCSignal[] f_tmp_110 = env.inputOfAlice(Utils.fromInt(__tmp85, m));
		GCSignal[] f_tmp_109 = intLib.sub(__tmp84,f_tmp_110);
		GCSignal[] __tmp86 = f_tmp_109;
		GCSignal[] f_tmp_111 = this.size;
		GCSignal[] __tmp87 = f_tmp_111;
		GCSignal[] f_tmp_112 = intLib.mux(__tmp87, __tmp86,__tmp79);
		GCSignal[] __tmp88 = f_tmp_112;
		this.size = __tmp88;
		GCSignal[] f_tmp_113 = this.size;
		GCSignal[] __tmp89 = f_tmp_113;
		int f_tmp_114 = 0;
		int __tmp90 = f_tmp_114;
		GCSignal[] f_tmp_116 = env.inputOfAlice(Utils.fromInt(__tmp90, m));
		GCSignal f_tmp_115 = intLib.not(intLib.leq(__tmp89, f_tmp_116));
		GCSignal __tmp91 = f_tmp_115;
		GCSignal f_tmp_117 = intLib.and(__tmp79,__tmp91);
		GCSignal __tmp92 = f_tmp_117;
		GCSignal[] f_tmp_118 = this.size;
		GCSignal[] __tmp93 = f_tmp_118;
		int f_tmp_119 = 0;
		int __tmp94 = f_tmp_119;
		GCSignal[] f_tmp_121 = env.inputOfAlice(Utils.fromInt(__tmp94, m));
		GCSignal f_tmp_120 = intLib.not(intLib.leq(__tmp93, f_tmp_121));
		GCSignal __tmp95 = f_tmp_120;
		boolean f_tmp_122 = true;
		boolean __tmp96 = f_tmp_122;
		GCSignal f_tmp_124 = env.inputOfAlice(__tmp96);
		GCSignal f_tmp_123 = intLib.eq(dummy_bit, f_tmp_124);
		GCSignal __tmp97 = f_tmp_123;
		GCSignal f_tmp_125 = intLib.and(__tmp95,__tmp97);
		GCSignal __tmp98 = f_tmp_125;
		GCSignal f_tmp_126 = intLib.and(__tmp92,__tmp98);
		GCSignal __tmp99 = f_tmp_126;
		boolean f_tmp_127 = true;
		boolean __tmp100 = f_tmp_127;
		GCSignal f_tmp_129 = env.inputOfAlice(__tmp100);
		GCSignal f_tmp_128 = intLib.mux(newdummy_bit, f_tmp_129,__tmp99);
		GCSignal __tmp101 = f_tmp_128;
		newdummy_bit = __tmp101;
		GCSignal f_tmp_130 = intLib.not(__tmp98);
		GCSignal __tmp102 = f_tmp_130;
		GCSignal f_tmp_131 = intLib.and(__tmp92,__tmp102);
		GCSignal __tmp103 = f_tmp_131;
		boolean f_tmp_132 = false;
		boolean __tmp104 = f_tmp_132;
		GCSignal f_tmp_134 = env.inputOfAlice(__tmp104);
		GCSignal f_tmp_133 = intLib.mux(newdummy_bit, f_tmp_134,__tmp103);
		GCSignal __tmp105 = f_tmp_133;
		newdummy_bit = __tmp105;
		NodeId f_tmp_135 = last_node.left;
		NodeId __tmp106 = f_tmp_135;
		GCSignal[] f_tmp_136 = __tmp106.pos;
		GCSignal[] __tmp107 = f_tmp_136;
		NodeId f_tmp_137 = this.root;
		NodeId __tmp108 = f_tmp_137;
		GCSignal[] f_tmp_138 = __tmp108.pos;
		GCSignal[] __tmp109 = f_tmp_138;
		GCSignal[] f_tmp_139 = intLib.mux(__tmp109, __tmp107,__tmp92);
		GCSignal[] __tmp110 = f_tmp_139;
		__tmp108.pos = __tmp110;
		NodeId f_tmp_140 = this.root;
		NodeId __tmp111 = f_tmp_140;
		GCSignal[] f_tmp_141 = __tmp111.id;
		GCSignal[] __tmp112 = f_tmp_141;
		NodeId f_tmp_142 = this.root;
		NodeId __tmp113 = f_tmp_142;
		GCSignal[] f_tmp_143 = __tmp113.pos;
		GCSignal[] __tmp114 = f_tmp_143;
		CircuitOram<GCSignal> f_tmp_144 = this.poram;
		CircuitOram<GCSignal> __tmp115 = f_tmp_144;
		PriorityQueueNode<T> f_tmp_145 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(__tmp115.conditionalReadAndRemove(__tmp112, __tmp114, __tmp92));
		PriorityQueueNode<T> __tmp116 = f_tmp_145;
		PriorityQueueNode<T> f_tmp_146 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(root_node.getBits(), __tmp116.getBits(),__tmp92));
		PriorityQueueNode<T> __tmp117 = f_tmp_146;
		root_node = __tmp117;
		KeyValue<T> f_tmp_147 = root_node.keyvalue;
		KeyValue<T> __tmp118 = f_tmp_147;
		KeyValue<T> f_tmp_148 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(ret.getBits(), __tmp118.getBits(),__tmp92));
		KeyValue<T> __tmp119 = f_tmp_148;
		ret = __tmp119;
		KeyValue<T> f_tmp_149 = last_node.keyvalue;
		KeyValue<T> __tmp120 = f_tmp_149;
		KeyValue<T> f_tmp_150 = root_node.keyvalue;
		KeyValue<T> __tmp121 = f_tmp_150;
		KeyValue<T> f_tmp_151 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp121.getBits(), __tmp120.getBits(),__tmp92));
		KeyValue<T> __tmp122 = f_tmp_151;
		root_node.keyvalue = __tmp122;
		NodeId f_tmp_152 = this.root;
		NodeId __tmp123 = f_tmp_152;
		GCSignal[] f_tmp_153 = __tmp123.id;
		GCSignal[] __tmp124 = f_tmp_153;
		int f_tmp_154 = 1;
		int __tmp125 = f_tmp_154;
		GCSignal[] f_tmp_155 = this.heapify(__tmp124, root_node, __tmp125, newdummy_bit);
		GCSignal[] __tmp126 = f_tmp_155;
		NodeId f_tmp_156 = this.root;
		NodeId __tmp127 = f_tmp_156;
		GCSignal[] f_tmp_157 = __tmp127.pos;
		GCSignal[] __tmp128 = f_tmp_157;
		GCSignal[] f_tmp_158 = intLib.mux(__tmp128, __tmp126,__tmp92);
		GCSignal[] __tmp129 = f_tmp_158;
		__tmp127.pos = __tmp129;
		GCSignal f_tmp_159 = intLib.not(__tmp91);
		GCSignal __tmp130 = f_tmp_159;
		GCSignal f_tmp_160 = intLib.and(__tmp79,__tmp130);
		GCSignal __tmp131 = f_tmp_160;
		KeyValue<T> f_tmp_161 = last_node.keyvalue;
		KeyValue<T> __tmp132 = f_tmp_161;
		KeyValue<T> f_tmp_162 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(ret.getBits(), __tmp132.getBits(),__tmp131));
		KeyValue<T> __tmp133 = f_tmp_162;
		ret = __tmp133;
		int f_tmp_163 = 30;
		int __tmp134 = f_tmp_163;
		GCSignal[] f_tmp_164 = intLib.randBools(__tmp134);
		GCSignal[] __tmp135 = f_tmp_164;
		NodeId f_tmp_165 = this.root;
		NodeId __tmp136 = f_tmp_165;
		GCSignal[] f_tmp_166 = __tmp136.pos;
		GCSignal[] __tmp137 = f_tmp_166;
		GCSignal[] f_tmp_167 = intLib.mux(__tmp137, __tmp135,__tmp131);
		GCSignal[] __tmp138 = f_tmp_167;
		__tmp136.pos = __tmp138;
		GCSignal f_tmp_168 = intLib.not(__tmp79);
		GCSignal __tmp139 = f_tmp_168;
		return ret;
	}
	public GCSignal[] heapify(GCSignal[] top_id, PriorityQueueNode<T> top_node, int level, GCSignal dummy_bit) throws Exception {
		GCSignal[] ret = intLib.randBools(m);
		GCSignal newdummy_bit = env.inputOfAlice(false);
		GCSignal go_left = env.inputOfAlice(false);
		GCSignal[] child_iter = intLib.randBools(m);
		GCSignal[] id_to_use = env.inputOfAlice(Utils.fromInt(0, m));
		GCSignal[] pos_to_use = intLib.randBools(m);
		PriorityQueueNode<T> node_to_use = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		PriorityQueueNode<T> left_node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		PriorityQueueNode<T> right_node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		KeyValue<T> tmp_kv = new KeyValue<T>(env, intLib, m, factoryT);
		boolean f_tmp_169 = false;
		boolean __tmp140 = f_tmp_169;
		newdummy_bit = env.inputOfAlice(__tmp140);
		boolean f_tmp_170 = false;
		boolean __tmp141 = f_tmp_170;
		go_left = env.inputOfAlice(__tmp141);
		boolean f_tmp_171 = level < m;
		boolean __tmp142 = f_tmp_171;
		if(__tmp142) {
			boolean f_tmp_172 = true;
			boolean __tmp143 = f_tmp_172;
			GCSignal f_tmp_174 = env.inputOfAlice(__tmp143);
			GCSignal f_tmp_173 = intLib.eq(dummy_bit, f_tmp_174);
			GCSignal __tmp144 = f_tmp_173;
			GCSignal[] f_tmp_175 = this.size;
			GCSignal[] __tmp145 = f_tmp_175;
			GCSignal f_tmp_176 = intLib.leq(top_id, __tmp145);
			GCSignal __tmp146 = f_tmp_176;
			GCSignal f_tmp_177 = intLib.and(__tmp144,__tmp146);
			GCSignal __tmp147 = f_tmp_177;
			GCSignal[] f_tmp_178 = this.size;
			GCSignal[] __tmp148 = f_tmp_178;
			int f_tmp_179 = 1;
			int __tmp149 = f_tmp_179;
			GCSignal[] f_tmp_180 = intLib.rightPublicShift(__tmp148, __tmp149);
			GCSignal[] __tmp150 = f_tmp_180;
			GCSignal f_tmp_181 = intLib.leq(top_id, __tmp150);
			GCSignal __tmp151 = f_tmp_181;
			GCSignal f_tmp_182 = intLib.and(__tmp147,__tmp151);
			GCSignal __tmp152 = f_tmp_182;
			NodeId f_tmp_183 = top_node.left;
			NodeId __tmp153 = f_tmp_183;
			GCSignal[] f_tmp_184 = __tmp153.id;
			GCSignal[] __tmp154 = f_tmp_184;
			NodeId f_tmp_185 = top_node.left;
			NodeId __tmp155 = f_tmp_185;
			GCSignal[] f_tmp_186 = __tmp155.pos;
			GCSignal[] __tmp156 = f_tmp_186;
			CircuitOram<GCSignal> f_tmp_187 = this.poram;
			CircuitOram<GCSignal> __tmp157 = f_tmp_187;
			PriorityQueueNode<T> f_tmp_188 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(__tmp157.conditionalReadAndRemove(__tmp154, __tmp156, __tmp152));
			PriorityQueueNode<T> __tmp158 = f_tmp_188;
			PriorityQueueNode<T> f_tmp_189 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(left_node.getBits(), __tmp158.getBits(),__tmp152));
			PriorityQueueNode<T> __tmp159 = f_tmp_189;
			left_node = __tmp159;
			NodeId f_tmp_190 = top_node.right;
			NodeId __tmp160 = f_tmp_190;
			GCSignal[] f_tmp_191 = __tmp160.id;
			GCSignal[] __tmp161 = f_tmp_191;
			NodeId f_tmp_192 = top_node.right;
			NodeId __tmp162 = f_tmp_192;
			GCSignal[] f_tmp_193 = __tmp162.pos;
			GCSignal[] __tmp163 = f_tmp_193;
			CircuitOram<GCSignal> f_tmp_194 = this.poram;
			CircuitOram<GCSignal> __tmp164 = f_tmp_194;
			PriorityQueueNode<T> f_tmp_195 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(__tmp164.conditionalReadAndRemove(__tmp161, __tmp163, __tmp152));
			PriorityQueueNode<T> __tmp165 = f_tmp_195;
			PriorityQueueNode<T> f_tmp_196 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(right_node.getBits(), __tmp165.getBits(),__tmp152));
			PriorityQueueNode<T> __tmp166 = f_tmp_196;
			right_node = __tmp166;
			KeyValue<T> f_tmp_197 = left_node.keyvalue;
			KeyValue<T> __tmp167 = f_tmp_197;
			GCSignal[] f_tmp_198 = __tmp167.key;
			GCSignal[] __tmp168 = f_tmp_198;
			KeyValue<T> f_tmp_199 = right_node.keyvalue;
			KeyValue<T> __tmp169 = f_tmp_199;
			GCSignal[] f_tmp_200 = __tmp169.key;
			GCSignal[] __tmp170 = f_tmp_200;
			GCSignal f_tmp_201 = intLib.not(intLib.leq(__tmp168, __tmp170));
			GCSignal __tmp171 = f_tmp_201;
			GCSignal f_tmp_202 = intLib.and(__tmp152,__tmp171);
			GCSignal __tmp172 = f_tmp_202;
			KeyValue<T> f_tmp_203 = left_node.keyvalue;
			KeyValue<T> __tmp173 = f_tmp_203;
			GCSignal[] f_tmp_204 = __tmp173.key;
			GCSignal[] __tmp174 = f_tmp_204;
			KeyValue<T> f_tmp_205 = top_node.keyvalue;
			KeyValue<T> __tmp175 = f_tmp_205;
			GCSignal[] f_tmp_206 = __tmp175.key;
			GCSignal[] __tmp176 = f_tmp_206;
			GCSignal f_tmp_207 = intLib.not(intLib.leq(__tmp174, __tmp176));
			GCSignal __tmp177 = f_tmp_207;
			GCSignal f_tmp_208 = intLib.and(__tmp172,__tmp177);
			GCSignal __tmp178 = f_tmp_208;
			KeyValue<T> f_tmp_209 = top_node.keyvalue;
			KeyValue<T> __tmp179 = f_tmp_209;
			KeyValue<T> f_tmp_210 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(tmp_kv.getBits(), __tmp179.getBits(),__tmp178));
			KeyValue<T> __tmp180 = f_tmp_210;
			tmp_kv = __tmp180;
			KeyValue<T> f_tmp_211 = left_node.keyvalue;
			KeyValue<T> __tmp181 = f_tmp_211;
			KeyValue<T> f_tmp_212 = top_node.keyvalue;
			KeyValue<T> __tmp182 = f_tmp_212;
			KeyValue<T> f_tmp_213 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp182.getBits(), __tmp181.getBits(),__tmp178));
			KeyValue<T> __tmp183 = f_tmp_213;
			top_node.keyvalue = __tmp183;
			KeyValue<T> f_tmp_214 = left_node.keyvalue;
			KeyValue<T> __tmp184 = f_tmp_214;
			KeyValue<T> f_tmp_215 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp184.getBits(), tmp_kv.getBits(),__tmp178));
			KeyValue<T> __tmp185 = f_tmp_215;
			left_node.keyvalue = __tmp185;
			boolean f_tmp_216 = true;
			boolean __tmp186 = f_tmp_216;
			GCSignal f_tmp_218 = env.inputOfAlice(__tmp186);
			GCSignal f_tmp_217 = intLib.mux(go_left, f_tmp_218,__tmp178);
			GCSignal __tmp187 = f_tmp_217;
			go_left = __tmp187;
			GCSignal f_tmp_219 = intLib.not(__tmp177);
			GCSignal __tmp188 = f_tmp_219;
			GCSignal f_tmp_220 = intLib.and(__tmp172,__tmp188);
			GCSignal __tmp189 = f_tmp_220;
			GCSignal f_tmp_221 = intLib.not(__tmp171);
			GCSignal __tmp190 = f_tmp_221;
			GCSignal f_tmp_222 = intLib.and(__tmp152,__tmp190);
			GCSignal __tmp191 = f_tmp_222;
			KeyValue<T> f_tmp_223 = right_node.keyvalue;
			KeyValue<T> __tmp192 = f_tmp_223;
			GCSignal[] f_tmp_224 = __tmp192.key;
			GCSignal[] __tmp193 = f_tmp_224;
			KeyValue<T> f_tmp_225 = top_node.keyvalue;
			KeyValue<T> __tmp194 = f_tmp_225;
			GCSignal[] f_tmp_226 = __tmp194.key;
			GCSignal[] __tmp195 = f_tmp_226;
			GCSignal f_tmp_227 = intLib.not(intLib.leq(__tmp193, __tmp195));
			GCSignal __tmp196 = f_tmp_227;
			GCSignal f_tmp_228 = intLib.and(__tmp191,__tmp196);
			GCSignal __tmp197 = f_tmp_228;
			KeyValue<T> f_tmp_229 = top_node.keyvalue;
			KeyValue<T> __tmp198 = f_tmp_229;
			KeyValue<T> f_tmp_230 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(tmp_kv.getBits(), __tmp198.getBits(),__tmp197));
			KeyValue<T> __tmp199 = f_tmp_230;
			tmp_kv = __tmp199;
			KeyValue<T> f_tmp_231 = right_node.keyvalue;
			KeyValue<T> __tmp200 = f_tmp_231;
			KeyValue<T> f_tmp_232 = top_node.keyvalue;
			KeyValue<T> __tmp201 = f_tmp_232;
			KeyValue<T> f_tmp_233 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp201.getBits(), __tmp200.getBits(),__tmp197));
			KeyValue<T> __tmp202 = f_tmp_233;
			top_node.keyvalue = __tmp202;
			KeyValue<T> f_tmp_234 = right_node.keyvalue;
			KeyValue<T> __tmp203 = f_tmp_234;
			KeyValue<T> f_tmp_235 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp203.getBits(), tmp_kv.getBits(),__tmp197));
			KeyValue<T> __tmp204 = f_tmp_235;
			right_node.keyvalue = __tmp204;
			boolean f_tmp_236 = false;
			boolean __tmp205 = f_tmp_236;
			GCSignal f_tmp_238 = env.inputOfAlice(__tmp205);
			GCSignal f_tmp_237 = intLib.mux(go_left, f_tmp_238,__tmp197);
			GCSignal __tmp206 = f_tmp_237;
			go_left = __tmp206;
			GCSignal f_tmp_239 = intLib.not(__tmp196);
			GCSignal __tmp207 = f_tmp_239;
			GCSignal f_tmp_240 = intLib.and(__tmp191,__tmp207);
			GCSignal __tmp208 = f_tmp_240;
			boolean f_tmp_241 = true;
			boolean __tmp209 = f_tmp_241;
			GCSignal f_tmp_243 = env.inputOfAlice(__tmp209);
			GCSignal f_tmp_242 = intLib.eq(go_left, f_tmp_243);
			GCSignal __tmp210 = f_tmp_242;
			GCSignal f_tmp_244 = intLib.and(__tmp152,__tmp210);
			GCSignal __tmp211 = f_tmp_244;
			PriorityQueueNode<T> f_tmp_245 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), left_node.getBits(),__tmp211));
			PriorityQueueNode<T> __tmp212 = f_tmp_245;
			node_to_use = __tmp212;
			NodeId f_tmp_246 = top_node.left;
			NodeId __tmp213 = f_tmp_246;
			GCSignal[] f_tmp_247 = __tmp213.id;
			GCSignal[] __tmp214 = f_tmp_247;
			GCSignal[] f_tmp_248 = intLib.mux(id_to_use, __tmp214,__tmp211);
			GCSignal[] __tmp215 = f_tmp_248;
			id_to_use = __tmp215;
			GCSignal f_tmp_249 = intLib.not(__tmp210);
			GCSignal __tmp216 = f_tmp_249;
			GCSignal f_tmp_250 = intLib.and(__tmp152,__tmp216);
			GCSignal __tmp217 = f_tmp_250;
			PriorityQueueNode<T> f_tmp_251 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), right_node.getBits(),__tmp217));
			PriorityQueueNode<T> __tmp218 = f_tmp_251;
			node_to_use = __tmp218;
			NodeId f_tmp_252 = top_node.right;
			NodeId __tmp219 = f_tmp_252;
			GCSignal[] f_tmp_253 = __tmp219.id;
			GCSignal[] __tmp220 = f_tmp_253;
			GCSignal[] f_tmp_254 = intLib.mux(id_to_use, __tmp220,__tmp217);
			GCSignal[] __tmp221 = f_tmp_254;
			id_to_use = __tmp221;
			boolean f_tmp_255 = true;
			boolean __tmp222 = f_tmp_255;
			GCSignal f_tmp_257 = env.inputOfAlice(__tmp222);
			GCSignal f_tmp_256 = intLib.eq(dummy_bit, f_tmp_257);
			GCSignal __tmp223 = f_tmp_256;
			GCSignal[] f_tmp_258 = this.size;
			GCSignal[] __tmp224 = f_tmp_258;
			int f_tmp_259 = 1;
			int __tmp225 = f_tmp_259;
			GCSignal[] f_tmp_260 = intLib.rightPublicShift(__tmp224, __tmp225);
			GCSignal[] __tmp226 = f_tmp_260;
			GCSignal f_tmp_261 = intLib.leq(top_id, __tmp226);
			GCSignal __tmp227 = f_tmp_261;
			GCSignal f_tmp_262 = intLib.and(__tmp223,__tmp227);
			GCSignal __tmp228 = f_tmp_262;
			GCSignal f_tmp_263 = intLib.and(__tmp152,__tmp228);
			GCSignal __tmp229 = f_tmp_263;
			boolean f_tmp_264 = true;
			boolean __tmp230 = f_tmp_264;
			GCSignal f_tmp_266 = env.inputOfAlice(__tmp230);
			GCSignal f_tmp_265 = intLib.mux(newdummy_bit, f_tmp_266,__tmp229);
			GCSignal __tmp231 = f_tmp_265;
			newdummy_bit = __tmp231;
			GCSignal f_tmp_267 = intLib.not(__tmp228);
			GCSignal __tmp232 = f_tmp_267;
			GCSignal f_tmp_268 = intLib.and(__tmp152,__tmp232);
			GCSignal __tmp233 = f_tmp_268;
			boolean f_tmp_269 = false;
			boolean __tmp234 = f_tmp_269;
			GCSignal f_tmp_271 = env.inputOfAlice(__tmp234);
			GCSignal f_tmp_270 = intLib.mux(newdummy_bit, f_tmp_271,__tmp233);
			GCSignal __tmp235 = f_tmp_270;
			newdummy_bit = __tmp235;
			int f_tmp_272 = 1;
			int __tmp236 = f_tmp_272;
			int f_tmp_273 = level + __tmp236;
			int __tmp237 = f_tmp_273;
			GCSignal[] f_tmp_274 = this.heapify(id_to_use, node_to_use, __tmp237, newdummy_bit);
			GCSignal[] __tmp238 = f_tmp_274;
			GCSignal[] f_tmp_275 = intLib.mux(child_iter, __tmp238,__tmp152);
			GCSignal[] __tmp239 = f_tmp_275;
			child_iter = __tmp239;
			NodeId f_tmp_276 = top_node.left;
			NodeId __tmp240 = f_tmp_276;
			GCSignal[] f_tmp_277 = __tmp240.id;
			GCSignal[] __tmp241 = f_tmp_277;
			GCSignal[] f_tmp_278 = intLib.mux(id_to_use, __tmp241,__tmp152);
			GCSignal[] __tmp242 = f_tmp_278;
			id_to_use = __tmp242;
			PriorityQueueNode<T> f_tmp_279 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), left_node.getBits(),__tmp152));
			PriorityQueueNode<T> __tmp243 = f_tmp_279;
			node_to_use = __tmp243;
			boolean f_tmp_280 = true;
			boolean __tmp244 = f_tmp_280;
			GCSignal f_tmp_282 = env.inputOfAlice(__tmp244);
			GCSignal f_tmp_281 = intLib.eq(go_left, f_tmp_282);
			GCSignal __tmp245 = f_tmp_281;
			GCSignal f_tmp_283 = intLib.and(__tmp152,__tmp245);
			GCSignal __tmp246 = f_tmp_283;
			NodeId f_tmp_284 = top_node.left;
			NodeId __tmp247 = f_tmp_284;
			GCSignal[] f_tmp_285 = __tmp247.pos;
			GCSignal[] __tmp248 = f_tmp_285;
			GCSignal[] f_tmp_286 = intLib.mux(__tmp248, child_iter,__tmp246);
			GCSignal[] __tmp249 = f_tmp_286;
			__tmp247.pos = __tmp249;
			int f_tmp_287 = 30;
			int __tmp250 = f_tmp_287;
			GCSignal[] f_tmp_288 = intLib.randBools(__tmp250);
			GCSignal[] __tmp251 = f_tmp_288;
			NodeId f_tmp_289 = top_node.right;
			NodeId __tmp252 = f_tmp_289;
			GCSignal[] f_tmp_290 = __tmp252.pos;
			GCSignal[] __tmp253 = f_tmp_290;
			GCSignal[] f_tmp_291 = intLib.mux(__tmp253, __tmp251,__tmp246);
			GCSignal[] __tmp254 = f_tmp_291;
			__tmp252.pos = __tmp254;
			NodeId f_tmp_292 = top_node.right;
			NodeId __tmp255 = f_tmp_292;
			GCSignal[] f_tmp_293 = __tmp255.id;
			GCSignal[] __tmp256 = f_tmp_293;
			GCSignal[] f_tmp_294 = intLib.mux(id_to_use, __tmp256,__tmp246);
			GCSignal[] __tmp257 = f_tmp_294;
			id_to_use = __tmp257;
			NodeId f_tmp_295 = top_node.right;
			NodeId __tmp258 = f_tmp_295;
			GCSignal[] f_tmp_296 = __tmp258.pos;
			GCSignal[] __tmp259 = f_tmp_296;
			GCSignal[] f_tmp_297 = intLib.mux(pos_to_use, __tmp259,__tmp246);
			GCSignal[] __tmp260 = f_tmp_297;
			pos_to_use = __tmp260;
			PriorityQueueNode<T> f_tmp_298 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), right_node.getBits(),__tmp246));
			PriorityQueueNode<T> __tmp261 = f_tmp_298;
			node_to_use = __tmp261;
			GCSignal f_tmp_299 = intLib.not(__tmp245);
			GCSignal __tmp262 = f_tmp_299;
			GCSignal f_tmp_300 = intLib.and(__tmp152,__tmp262);
			GCSignal __tmp263 = f_tmp_300;
			NodeId f_tmp_301 = top_node.right;
			NodeId __tmp264 = f_tmp_301;
			GCSignal[] f_tmp_302 = __tmp264.pos;
			GCSignal[] __tmp265 = f_tmp_302;
			GCSignal[] f_tmp_303 = intLib.mux(__tmp265, child_iter,__tmp263);
			GCSignal[] __tmp266 = f_tmp_303;
			__tmp264.pos = __tmp266;
			int f_tmp_304 = 30;
			int __tmp267 = f_tmp_304;
			GCSignal[] f_tmp_305 = intLib.randBools(__tmp267);
			GCSignal[] __tmp268 = f_tmp_305;
			NodeId f_tmp_306 = top_node.left;
			NodeId __tmp269 = f_tmp_306;
			GCSignal[] f_tmp_307 = __tmp269.pos;
			GCSignal[] __tmp270 = f_tmp_307;
			GCSignal[] f_tmp_308 = intLib.mux(__tmp270, __tmp268,__tmp263);
			GCSignal[] __tmp271 = f_tmp_308;
			__tmp269.pos = __tmp271;
			NodeId f_tmp_309 = top_node.left;
			NodeId __tmp272 = f_tmp_309;
			GCSignal[] f_tmp_310 = __tmp272.pos;
			GCSignal[] __tmp273 = f_tmp_310;
			GCSignal[] f_tmp_311 = intLib.mux(pos_to_use, __tmp273,__tmp263);
			GCSignal[] __tmp274 = f_tmp_311;
			pos_to_use = __tmp274;
			CircuitOram<GCSignal> f_tmp_312 = this.poram;
			CircuitOram<GCSignal> __tmp275 = f_tmp_312;
			__tmp275.conditionalPutBack(id_to_use, pos_to_use, node_to_use.getBits(), __tmp152);
			GCSignal f_tmp_314 = intLib.not(__tmp151);
			GCSignal __tmp277 = f_tmp_314;
			GCSignal f_tmp_315 = intLib.and(__tmp147,__tmp277);
			GCSignal __tmp278 = f_tmp_315;
			GCSignal[] f_tmp_316 = this.size;
			GCSignal[] __tmp279 = f_tmp_316;
			GCSignal f_tmp_317 = intLib.leq(top_id, __tmp279);
			GCSignal __tmp280 = f_tmp_317;
			GCSignal f_tmp_318 = intLib.and(__tmp147,__tmp280);
			GCSignal __tmp281 = f_tmp_318;
			int f_tmp_319 = 30;
			int __tmp282 = f_tmp_319;
			GCSignal[] f_tmp_320 = intLib.randBools(__tmp282);
			GCSignal[] __tmp283 = f_tmp_320;
			GCSignal[] f_tmp_321 = intLib.mux(ret, __tmp283,__tmp281);
			GCSignal[] __tmp284 = f_tmp_321;
			ret = __tmp284;
			CircuitOram<GCSignal> f_tmp_322 = this.poram;
			CircuitOram<GCSignal> __tmp285 = f_tmp_322;
			__tmp285.conditionalPutBack(top_id, ret, top_node.getBits(), __tmp281);
			GCSignal f_tmp_324 = intLib.not(__tmp280);
			GCSignal __tmp287 = f_tmp_324;
			GCSignal f_tmp_325 = intLib.and(__tmp147,__tmp287);
			GCSignal __tmp288 = f_tmp_325;
			GCSignal f_tmp_326 = intLib.not(__tmp147);
			GCSignal __tmp289 = f_tmp_326;
		} else {
		}
		return ret;
	}
	public PriorityQueueNode<T> get_last(NodeId top, int level, GCSignal dummy_bit) throws Exception {
		PriorityQueueNode<T> ret = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		GCSignal newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		PriorityQueueNode<T> child = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		GCSignal go_left = env.inputOfAlice(false);
		NodeId next = new NodeId(env, intLib, m);
		boolean f_tmp_327 = false;
		boolean __tmp290 = f_tmp_327;
		newdummy_bit = env.inputOfAlice(__tmp290);
		boolean f_tmp_328 = level < m;
		boolean __tmp291 = f_tmp_328;
		if(__tmp291) {
			boolean f_tmp_329 = true;
			boolean __tmp292 = f_tmp_329;
			GCSignal f_tmp_331 = env.inputOfAlice(__tmp292);
			GCSignal f_tmp_330 = intLib.eq(dummy_bit, f_tmp_331);
			GCSignal __tmp293 = f_tmp_330;
			GCSignal[] f_tmp_332 = top.id;
			GCSignal[] __tmp294 = f_tmp_332;
			GCSignal[] f_tmp_333 = this.size;
			GCSignal[] __tmp295 = f_tmp_333;
			GCSignal f_tmp_334 = intLib.leq(__tmp294, __tmp295);
			GCSignal __tmp296 = f_tmp_334;
			GCSignal f_tmp_335 = intLib.and(__tmp293,__tmp296);
			GCSignal __tmp297 = f_tmp_335;
			GCSignal[] f_tmp_336 = top.id;
			GCSignal[] __tmp298 = f_tmp_336;
			GCSignal[] f_tmp_337 = top.pos;
			GCSignal[] __tmp299 = f_tmp_337;
			CircuitOram<GCSignal> f_tmp_338 = this.poram;
			CircuitOram<GCSignal> __tmp300 = f_tmp_338;
			PriorityQueueNode<T> f_tmp_339 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(__tmp300.conditionalReadAndRemove(__tmp298, __tmp299, __tmp297));
			PriorityQueueNode<T> __tmp301 = f_tmp_339;
			PriorityQueueNode<T> f_tmp_340 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node.getBits(), __tmp301.getBits(),__tmp297));
			PriorityQueueNode<T> __tmp302 = f_tmp_340;
			node = __tmp302;
			GCSignal[] f_tmp_341 = top.id;
			GCSignal[] __tmp303 = f_tmp_341;
			GCSignal[] f_tmp_342 = this.size;
			GCSignal[] __tmp304 = f_tmp_342;
			GCSignal f_tmp_343 = intLib.eq(__tmp303, __tmp304);
			GCSignal __tmp305 = f_tmp_343;
			GCSignal f_tmp_344 = intLib.and(__tmp297,__tmp305);
			GCSignal __tmp306 = f_tmp_344;
			PriorityQueueNode<T> f_tmp_345 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(ret.getBits(), node.getBits(),__tmp306));
			PriorityQueueNode<T> __tmp307 = f_tmp_345;
			ret = __tmp307;
			GCSignal f_tmp_346 = intLib.not(__tmp305);
			GCSignal __tmp308 = f_tmp_346;
			GCSignal f_tmp_347 = intLib.and(__tmp297,__tmp308);
			GCSignal __tmp309 = f_tmp_347;
			GCSignal[] f_tmp_348 = this.size;
			GCSignal[] __tmp310 = f_tmp_348;
			GCSignal f_tmp_349 = this.should_go_left(__tmp310, level);
			GCSignal __tmp311 = f_tmp_349;
			GCSignal f_tmp_350 = intLib.mux(go_left, __tmp311,__tmp309);
			GCSignal __tmp312 = f_tmp_350;
			go_left = __tmp312;
			NodeId f_tmp_351 = node.right;
			NodeId __tmp313 = f_tmp_351;
			NodeId f_tmp_352 = new NodeId(env, intLib, m).newObj(intLib.mux(next.getBits(), __tmp313.getBits(),__tmp309));
			NodeId __tmp314 = f_tmp_352;
			next = __tmp314;
			boolean f_tmp_353 = true;
			boolean __tmp315 = f_tmp_353;
			GCSignal f_tmp_355 = env.inputOfAlice(__tmp315);
			GCSignal f_tmp_354 = intLib.eq(go_left, f_tmp_355);
			GCSignal __tmp316 = f_tmp_354;
			GCSignal f_tmp_356 = intLib.and(__tmp309,__tmp316);
			GCSignal __tmp317 = f_tmp_356;
			NodeId f_tmp_357 = node.left;
			NodeId __tmp318 = f_tmp_357;
			NodeId f_tmp_358 = new NodeId(env, intLib, m).newObj(intLib.mux(next.getBits(), __tmp318.getBits(),__tmp317));
			NodeId __tmp319 = f_tmp_358;
			next = __tmp319;
			GCSignal f_tmp_359 = intLib.not(__tmp316);
			GCSignal __tmp320 = f_tmp_359;
			GCSignal f_tmp_360 = intLib.and(__tmp309,__tmp320);
			GCSignal __tmp321 = f_tmp_360;
			boolean f_tmp_361 = true;
			boolean __tmp322 = f_tmp_361;
			GCSignal f_tmp_363 = env.inputOfAlice(__tmp322);
			GCSignal f_tmp_362 = intLib.eq(dummy_bit, f_tmp_363);
			GCSignal __tmp323 = f_tmp_362;
			GCSignal[] f_tmp_364 = top.id;
			GCSignal[] __tmp324 = f_tmp_364;
			GCSignal[] f_tmp_365 = this.size;
			GCSignal[] __tmp325 = f_tmp_365;
			GCSignal f_tmp_366 = intLib.not(intLib.geq(__tmp324, __tmp325));
			GCSignal __tmp326 = f_tmp_366;
			GCSignal f_tmp_367 = intLib.and(__tmp323,__tmp326);
			GCSignal __tmp327 = f_tmp_367;
			GCSignal f_tmp_368 = intLib.and(__tmp309,__tmp327);
			GCSignal __tmp328 = f_tmp_368;
			boolean f_tmp_369 = true;
			boolean __tmp329 = f_tmp_369;
			GCSignal f_tmp_371 = env.inputOfAlice(__tmp329);
			GCSignal f_tmp_370 = intLib.mux(newdummy_bit, f_tmp_371,__tmp328);
			GCSignal __tmp330 = f_tmp_370;
			newdummy_bit = __tmp330;
			GCSignal f_tmp_372 = intLib.not(__tmp327);
			GCSignal __tmp331 = f_tmp_372;
			GCSignal f_tmp_373 = intLib.and(__tmp309,__tmp331);
			GCSignal __tmp332 = f_tmp_373;
			boolean f_tmp_374 = false;
			boolean __tmp333 = f_tmp_374;
			GCSignal f_tmp_376 = env.inputOfAlice(__tmp333);
			GCSignal f_tmp_375 = intLib.mux(newdummy_bit, f_tmp_376,__tmp332);
			GCSignal __tmp334 = f_tmp_375;
			newdummy_bit = __tmp334;
			int f_tmp_377 = 1;
			int __tmp335 = f_tmp_377;
			int f_tmp_378 = level + __tmp335;
			int __tmp336 = f_tmp_378;
			PriorityQueueNode<T> f_tmp_379 = this.get_last(next, __tmp336, newdummy_bit);
			PriorityQueueNode<T> __tmp337 = f_tmp_379;
			PriorityQueueNode<T> f_tmp_380 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(child.getBits(), __tmp337.getBits(),__tmp309));
			PriorityQueueNode<T> __tmp338 = f_tmp_380;
			child = __tmp338;
			boolean f_tmp_381 = true;
			boolean __tmp339 = f_tmp_381;
			GCSignal f_tmp_383 = env.inputOfAlice(__tmp339);
			GCSignal f_tmp_382 = intLib.eq(go_left, f_tmp_383);
			GCSignal __tmp340 = f_tmp_382;
			GCSignal f_tmp_384 = intLib.and(__tmp309,__tmp340);
			GCSignal __tmp341 = f_tmp_384;
			NodeId f_tmp_385 = child.left;
			NodeId __tmp342 = f_tmp_385;
			GCSignal[] f_tmp_386 = __tmp342.pos;
			GCSignal[] __tmp343 = f_tmp_386;
			NodeId f_tmp_387 = node.left;
			NodeId __tmp344 = f_tmp_387;
			GCSignal[] f_tmp_388 = __tmp344.pos;
			GCSignal[] __tmp345 = f_tmp_388;
			GCSignal[] f_tmp_389 = intLib.mux(__tmp345, __tmp343,__tmp341);
			GCSignal[] __tmp346 = f_tmp_389;
			__tmp344.pos = __tmp346;
			GCSignal f_tmp_390 = intLib.not(__tmp340);
			GCSignal __tmp347 = f_tmp_390;
			GCSignal f_tmp_391 = intLib.and(__tmp309,__tmp347);
			GCSignal __tmp348 = f_tmp_391;
			NodeId f_tmp_392 = child.left;
			NodeId __tmp349 = f_tmp_392;
			GCSignal[] f_tmp_393 = __tmp349.pos;
			GCSignal[] __tmp350 = f_tmp_393;
			NodeId f_tmp_394 = node.right;
			NodeId __tmp351 = f_tmp_394;
			GCSignal[] f_tmp_395 = __tmp351.pos;
			GCSignal[] __tmp352 = f_tmp_395;
			GCSignal[] f_tmp_396 = intLib.mux(__tmp352, __tmp350,__tmp348);
			GCSignal[] __tmp353 = f_tmp_396;
			__tmp351.pos = __tmp353;
			int f_tmp_397 = 30;
			int __tmp354 = f_tmp_397;
			GCSignal[] f_tmp_398 = intLib.randBools(__tmp354);
			GCSignal[] __tmp355 = f_tmp_398;
			GCSignal[] f_tmp_399 = top.pos;
			GCSignal[] __tmp356 = f_tmp_399;
			GCSignal[] f_tmp_400 = intLib.mux(__tmp356, __tmp355,__tmp309);
			GCSignal[] __tmp357 = f_tmp_400;
			top.pos = __tmp357;
			GCSignal[] f_tmp_401 = top.id;
			GCSignal[] __tmp358 = f_tmp_401;
			GCSignal[] f_tmp_402 = top.pos;
			GCSignal[] __tmp359 = f_tmp_402;
			CircuitOram<GCSignal> f_tmp_403 = this.poram;
			CircuitOram<GCSignal> __tmp360 = f_tmp_403;
			__tmp360.conditionalPutBack(__tmp358, __tmp359, node.getBits(), __tmp309);
			GCSignal[] f_tmp_405 = top.pos;
			GCSignal[] __tmp362 = f_tmp_405;
			NodeId f_tmp_406 = child.left;
			NodeId __tmp363 = f_tmp_406;
			GCSignal[] f_tmp_407 = __tmp363.pos;
			GCSignal[] __tmp364 = f_tmp_407;
			GCSignal[] f_tmp_408 = intLib.mux(__tmp364, __tmp362,__tmp309);
			GCSignal[] __tmp365 = f_tmp_408;
			__tmp363.pos = __tmp365;
			PriorityQueueNode<T> f_tmp_409 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(ret.getBits(), child.getBits(),__tmp309));
			PriorityQueueNode<T> __tmp366 = f_tmp_409;
			ret = __tmp366;
			GCSignal f_tmp_410 = intLib.not(__tmp297);
			GCSignal __tmp367 = f_tmp_410;
		} else {
		}
		return ret;
	}
	public void insert(KeyValue<T> kv, GCSignal dummy_bit) throws Exception {
		KeyValue<T> parent_kv = new KeyValue<T>(env, intLib, m, factoryT);
		int f_tmp_411 = 1;
		int __tmp368 = f_tmp_411;
		int f_tmp_412 = 15;
		int __tmp369 = f_tmp_412;
		int f_tmp_413 = 1;
		int __tmp370 = f_tmp_413;
		int f_tmp_414 = __tmp369 - __tmp370;
		int __tmp371 = f_tmp_414;
		int f_tmp_415 = __tmp368 << __tmp371;
		int __tmp372 = f_tmp_415;
		GCSignal[] f_tmp_416 = env.inputOfAlice(Utils.fromInt(__tmp372, 16));
		parent_kv.key = f_tmp_416;
		boolean f_tmp_417 = true;
		boolean __tmp373 = f_tmp_417;
		GCSignal f_tmp_419 = env.inputOfAlice(__tmp373);
		GCSignal f_tmp_418 = intLib.eq(dummy_bit, f_tmp_419);
		GCSignal __tmp374 = f_tmp_418;
		GCSignal[] f_tmp_420 = this.size;
		GCSignal[] __tmp375 = f_tmp_420;
		int f_tmp_421 = 1;
		int __tmp376 = f_tmp_421;
		GCSignal[] f_tmp_423 = env.inputOfAlice(Utils.fromInt(__tmp376, m));
		GCSignal[] f_tmp_422 = intLib.add(__tmp375,f_tmp_423);
		GCSignal[] __tmp377 = f_tmp_422;
		GCSignal[] f_tmp_424 = this.size;
		GCSignal[] __tmp378 = f_tmp_424;
		GCSignal[] f_tmp_425 = intLib.mux(__tmp378, __tmp377,__tmp374);
		GCSignal[] __tmp379 = f_tmp_425;
		this.size = __tmp379;
		NodeId f_tmp_426 = this.root;
		NodeId __tmp380 = f_tmp_426;
		GCSignal[] f_tmp_427 = __tmp380.id;
		GCSignal[] __tmp381 = f_tmp_427;
		NodeId f_tmp_428 = this.root;
		NodeId __tmp382 = f_tmp_428;
		GCSignal[] f_tmp_429 = __tmp382.pos;
		GCSignal[] __tmp383 = f_tmp_429;
		int f_tmp_430 = 1;
		int __tmp384 = f_tmp_430;
		GCSignal[] f_tmp_431 = this.insert_internal(kv, parent_kv, __tmp381, __tmp383, __tmp384, dummy_bit);
		GCSignal[] __tmp385 = f_tmp_431;
		NodeId f_tmp_432 = this.root;
		NodeId __tmp386 = f_tmp_432;
		GCSignal[] f_tmp_433 = __tmp386.pos;
		GCSignal[] __tmp387 = f_tmp_433;
		GCSignal[] f_tmp_434 = intLib.mux(__tmp387, __tmp385,__tmp374);
		GCSignal[] __tmp388 = f_tmp_434;
		__tmp386.pos = __tmp388;
		GCSignal f_tmp_435 = intLib.not(__tmp374);
		GCSignal __tmp389 = f_tmp_435;

	}
	public GCSignal[] insert_internal(KeyValue<T> kv, KeyValue<T> parent_kv, GCSignal[] iter_id, GCSignal[] iter_pos, int level, GCSignal dummy_bit) throws Exception {
		GCSignal[] ret = intLib.randBools(m);
		GCSignal newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> node = new PriorityQueueNode<T>(env, intLib, m, factoryT);
		GCSignal go_left = env.inputOfAlice(false);
		NodeId next = new NodeId(env, intLib, m);
		GCSignal[] newId = intLib.randBools(m);
		boolean f_tmp_436 = false;
		boolean __tmp390 = f_tmp_436;
		newdummy_bit = env.inputOfAlice(__tmp390);
		boolean f_tmp_437 = level < m;
		boolean __tmp391 = f_tmp_437;
		if(__tmp391) {
			boolean f_tmp_438 = true;
			boolean __tmp392 = f_tmp_438;
			GCSignal f_tmp_440 = env.inputOfAlice(__tmp392);
			GCSignal f_tmp_439 = intLib.eq(dummy_bit, f_tmp_440);
			GCSignal __tmp393 = f_tmp_439;
			GCSignal[] f_tmp_441 = this.size;
			GCSignal[] __tmp394 = f_tmp_441;
			GCSignal f_tmp_442 = intLib.leq(iter_id, __tmp394);
			GCSignal __tmp395 = f_tmp_442;
			GCSignal f_tmp_443 = intLib.and(__tmp393,__tmp395);
			GCSignal __tmp396 = f_tmp_443;
			GCSignal[] f_tmp_444 = this.size;
			GCSignal[] __tmp397 = f_tmp_444;
			GCSignal f_tmp_445 = intLib.eq(iter_id, __tmp397);
			GCSignal __tmp398 = f_tmp_445;
			GCSignal f_tmp_446 = intLib.and(__tmp396,__tmp398);
			GCSignal __tmp399 = f_tmp_446;
			KeyValue<T> f_tmp_447 = node.keyvalue;
			KeyValue<T> __tmp400 = f_tmp_447;
			KeyValue<T> f_tmp_448 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp400.getBits(), kv.getBits(),__tmp399));
			KeyValue<T> __tmp401 = f_tmp_448;
			node.keyvalue = __tmp401;
			GCSignal[] f_tmp_449 = parent_kv.key;
			GCSignal[] __tmp402 = f_tmp_449;
			GCSignal[] f_tmp_450 = kv.key;
			GCSignal[] __tmp403 = f_tmp_450;
			GCSignal f_tmp_451 = intLib.not(intLib.geq(__tmp402, __tmp403));
			GCSignal __tmp404 = f_tmp_451;
			GCSignal f_tmp_452 = intLib.and(__tmp399,__tmp404);
			GCSignal __tmp405 = f_tmp_452;
			KeyValue<T> f_tmp_453 = node.keyvalue;
			KeyValue<T> __tmp406 = f_tmp_453;
			KeyValue<T> f_tmp_454 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp406.getBits(), parent_kv.getBits(),__tmp405));
			KeyValue<T> __tmp407 = f_tmp_454;
			node.keyvalue = __tmp407;
			GCSignal f_tmp_455 = intLib.not(__tmp404);
			GCSignal __tmp408 = f_tmp_455;
			GCSignal f_tmp_456 = intLib.and(__tmp399,__tmp408);
			GCSignal __tmp409 = f_tmp_456;
			GCSignal f_tmp_457 = intLib.not(__tmp398);
			GCSignal __tmp410 = f_tmp_457;
			GCSignal f_tmp_458 = intLib.and(__tmp396,__tmp410);
			GCSignal __tmp411 = f_tmp_458;
			CircuitOram<GCSignal> f_tmp_459 = this.poram;
			CircuitOram<GCSignal> __tmp412 = f_tmp_459;
			PriorityQueueNode<T> f_tmp_460 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(__tmp412.conditionalReadAndRemove(iter_id, iter_pos, __tmp411));
			PriorityQueueNode<T> __tmp413 = f_tmp_460;
			PriorityQueueNode<T> f_tmp_461 = new PriorityQueueNode<T>(env, intLib, m, factoryT).newObj(intLib.mux(node.getBits(), __tmp413.getBits(),__tmp411));
			PriorityQueueNode<T> __tmp414 = f_tmp_461;
			node = __tmp414;
			GCSignal[] f_tmp_462 = this.size;
			GCSignal[] __tmp415 = f_tmp_462;
			GCSignal f_tmp_463 = this.should_go_left(__tmp415, level);
			GCSignal __tmp416 = f_tmp_463;
			GCSignal f_tmp_464 = intLib.mux(go_left, __tmp416,__tmp411);
			GCSignal __tmp417 = f_tmp_464;
			go_left = __tmp417;
			NodeId f_tmp_465 = node.right;
			NodeId __tmp418 = f_tmp_465;
			NodeId f_tmp_466 = new NodeId(env, intLib, m).newObj(intLib.mux(next.getBits(), __tmp418.getBits(),__tmp411));
			NodeId __tmp419 = f_tmp_466;
			next = __tmp419;
			boolean f_tmp_467 = true;
			boolean __tmp420 = f_tmp_467;
			GCSignal f_tmp_469 = env.inputOfAlice(__tmp420);
			GCSignal f_tmp_468 = intLib.eq(go_left, f_tmp_469);
			GCSignal __tmp421 = f_tmp_468;
			GCSignal f_tmp_470 = intLib.and(__tmp411,__tmp421);
			GCSignal __tmp422 = f_tmp_470;
			NodeId f_tmp_471 = node.left;
			NodeId __tmp423 = f_tmp_471;
			NodeId f_tmp_472 = new NodeId(env, intLib, m).newObj(intLib.mux(next.getBits(), __tmp423.getBits(),__tmp422));
			NodeId __tmp424 = f_tmp_472;
			next = __tmp424;
			GCSignal f_tmp_473 = intLib.not(__tmp421);
			GCSignal __tmp425 = f_tmp_473;
			GCSignal f_tmp_474 = intLib.and(__tmp411,__tmp425);
			GCSignal __tmp426 = f_tmp_474;
			boolean f_tmp_475 = true;
			boolean __tmp427 = f_tmp_475;
			GCSignal f_tmp_477 = env.inputOfAlice(__tmp427);
			GCSignal f_tmp_476 = intLib.eq(dummy_bit, f_tmp_477);
			GCSignal __tmp428 = f_tmp_476;
			GCSignal[] f_tmp_478 = this.size;
			GCSignal[] __tmp429 = f_tmp_478;
			GCSignal f_tmp_479 = intLib.not(intLib.geq(iter_id, __tmp429));
			GCSignal __tmp430 = f_tmp_479;
			GCSignal f_tmp_480 = intLib.and(__tmp428,__tmp430);
			GCSignal __tmp431 = f_tmp_480;
			GCSignal f_tmp_481 = intLib.and(__tmp411,__tmp431);
			GCSignal __tmp432 = f_tmp_481;
			boolean f_tmp_482 = true;
			boolean __tmp433 = f_tmp_482;
			GCSignal f_tmp_484 = env.inputOfAlice(__tmp433);
			GCSignal f_tmp_483 = intLib.mux(newdummy_bit, f_tmp_484,__tmp432);
			GCSignal __tmp434 = f_tmp_483;
			newdummy_bit = __tmp434;
			GCSignal f_tmp_485 = intLib.not(__tmp431);
			GCSignal __tmp435 = f_tmp_485;
			GCSignal f_tmp_486 = intLib.and(__tmp411,__tmp435);
			GCSignal __tmp436 = f_tmp_486;
			boolean f_tmp_487 = false;
			boolean __tmp437 = f_tmp_487;
			GCSignal f_tmp_489 = env.inputOfAlice(__tmp437);
			GCSignal f_tmp_488 = intLib.mux(newdummy_bit, f_tmp_489,__tmp436);
			GCSignal __tmp438 = f_tmp_488;
			newdummy_bit = __tmp438;
			KeyValue<T> f_tmp_490 = node.keyvalue;
			KeyValue<T> __tmp439 = f_tmp_490;
			GCSignal[] f_tmp_491 = next.id;
			GCSignal[] __tmp440 = f_tmp_491;
			GCSignal[] f_tmp_492 = next.pos;
			GCSignal[] __tmp441 = f_tmp_492;
			int f_tmp_493 = 1;
			int __tmp442 = f_tmp_493;
			int f_tmp_494 = level + __tmp442;
			int __tmp443 = f_tmp_494;
			GCSignal[] f_tmp_495 = this.insert_internal(kv, __tmp439, __tmp440, __tmp441, __tmp443, newdummy_bit);
			GCSignal[] __tmp444 = f_tmp_495;
			GCSignal[] f_tmp_496 = intLib.mux(newId, __tmp444,__tmp411);
			GCSignal[] __tmp445 = f_tmp_496;
			newId = __tmp445;
			KeyValue<T> f_tmp_497 = node.keyvalue;
			KeyValue<T> __tmp446 = f_tmp_497;
			GCSignal[] f_tmp_498 = __tmp446.key;
			GCSignal[] __tmp447 = f_tmp_498;
			GCSignal[] f_tmp_499 = kv.key;
			GCSignal[] __tmp448 = f_tmp_499;
			GCSignal f_tmp_500 = intLib.not(intLib.geq(__tmp447, __tmp448));
			GCSignal __tmp449 = f_tmp_500;
			GCSignal f_tmp_501 = intLib.and(__tmp411,__tmp449);
			GCSignal __tmp450 = f_tmp_501;
			KeyValue<T> f_tmp_502 = node.keyvalue;
			KeyValue<T> __tmp451 = f_tmp_502;
			KeyValue<T> f_tmp_503 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp451.getBits(), kv.getBits(),__tmp450));
			KeyValue<T> __tmp452 = f_tmp_503;
			node.keyvalue = __tmp452;
			GCSignal[] f_tmp_504 = kv.key;
			GCSignal[] __tmp453 = f_tmp_504;
			GCSignal[] f_tmp_505 = parent_kv.key;
			GCSignal[] __tmp454 = f_tmp_505;
			GCSignal f_tmp_506 = intLib.not(intLib.leq(__tmp453, __tmp454));
			GCSignal __tmp455 = f_tmp_506;
			GCSignal f_tmp_507 = intLib.and(__tmp450,__tmp455);
			GCSignal __tmp456 = f_tmp_507;
			KeyValue<T> f_tmp_508 = node.keyvalue;
			KeyValue<T> __tmp457 = f_tmp_508;
			KeyValue<T> f_tmp_509 = new KeyValue<T>(env, intLib, m, factoryT).newObj(intLib.mux(__tmp457.getBits(), parent_kv.getBits(),__tmp456));
			KeyValue<T> __tmp458 = f_tmp_509;
			node.keyvalue = __tmp458;
			GCSignal f_tmp_510 = intLib.not(__tmp455);
			GCSignal __tmp459 = f_tmp_510;
			GCSignal f_tmp_511 = intLib.and(__tmp450,__tmp459);
			GCSignal __tmp460 = f_tmp_511;
			GCSignal f_tmp_512 = intLib.not(__tmp449);
			GCSignal __tmp461 = f_tmp_512;
			GCSignal f_tmp_513 = intLib.and(__tmp411,__tmp461);
			GCSignal __tmp462 = f_tmp_513;
			boolean f_tmp_514 = true;
			boolean __tmp463 = f_tmp_514;
			GCSignal f_tmp_516 = env.inputOfAlice(__tmp463);
			GCSignal f_tmp_515 = intLib.eq(go_left, f_tmp_516);
			GCSignal __tmp464 = f_tmp_515;
			GCSignal f_tmp_517 = intLib.and(__tmp411,__tmp464);
			GCSignal __tmp465 = f_tmp_517;
			NodeId f_tmp_518 = node.left;
			NodeId __tmp466 = f_tmp_518;
			GCSignal[] f_tmp_519 = __tmp466.pos;
			GCSignal[] __tmp467 = f_tmp_519;
			GCSignal[] f_tmp_520 = intLib.mux(__tmp467, newId,__tmp465);
			GCSignal[] __tmp468 = f_tmp_520;
			__tmp466.pos = __tmp468;
			GCSignal f_tmp_521 = intLib.not(__tmp464);
			GCSignal __tmp469 = f_tmp_521;
			GCSignal f_tmp_522 = intLib.and(__tmp411,__tmp469);
			GCSignal __tmp470 = f_tmp_522;
			NodeId f_tmp_523 = node.right;
			NodeId __tmp471 = f_tmp_523;
			GCSignal[] f_tmp_524 = __tmp471.pos;
			GCSignal[] __tmp472 = f_tmp_524;
			GCSignal[] f_tmp_525 = intLib.mux(__tmp472, newId,__tmp470);
			GCSignal[] __tmp473 = f_tmp_525;
			__tmp471.pos = __tmp473;
			int f_tmp_526 = 1;
			int __tmp474 = f_tmp_526;
			GCSignal[] f_tmp_527 = intLib.leftPublicShift(iter_id, __tmp474);
			GCSignal[] __tmp475 = f_tmp_527;
			NodeId f_tmp_528 = node.left;
			NodeId __tmp476 = f_tmp_528;
			GCSignal[] f_tmp_529 = __tmp476.id;
			GCSignal[] __tmp477 = f_tmp_529;
			GCSignal[] f_tmp_530 = intLib.mux(__tmp477, __tmp475,__tmp396);
			GCSignal[] __tmp478 = f_tmp_530;
			__tmp476.id = __tmp478;
			NodeId f_tmp_531 = node.left;
			NodeId __tmp479 = f_tmp_531;
			GCSignal[] f_tmp_532 = __tmp479.id;
			GCSignal[] __tmp480 = f_tmp_532;
			int f_tmp_533 = 1;
			int __tmp481 = f_tmp_533;
			GCSignal[] f_tmp_535 = env.inputOfAlice(Utils.fromInt(__tmp481, m));
			GCSignal[] f_tmp_534 = intLib.add(__tmp480,f_tmp_535);
			GCSignal[] __tmp482 = f_tmp_534;
			NodeId f_tmp_536 = node.right;
			NodeId __tmp483 = f_tmp_536;
			GCSignal[] f_tmp_537 = __tmp483.id;
			GCSignal[] __tmp484 = f_tmp_537;
			GCSignal[] f_tmp_538 = intLib.mux(__tmp484, __tmp482,__tmp396);
			GCSignal[] __tmp485 = f_tmp_538;
			__tmp483.id = __tmp485;
			int f_tmp_539 = 30;
			int __tmp486 = f_tmp_539;
			GCSignal[] f_tmp_540 = intLib.randBools(__tmp486);
			GCSignal[] __tmp487 = f_tmp_540;
			GCSignal[] f_tmp_541 = intLib.mux(ret, __tmp487,__tmp396);
			GCSignal[] __tmp488 = f_tmp_541;
			ret = __tmp488;
			CircuitOram<GCSignal> f_tmp_542 = this.poram;
			CircuitOram<GCSignal> __tmp489 = f_tmp_542;
			__tmp489.conditionalPutBack(iter_id, ret, node.getBits(), __tmp396);
			GCSignal f_tmp_544 = intLib.not(__tmp396);
			GCSignal __tmp491 = f_tmp_544;
		} else {
		}
		return ret;
	}
}
