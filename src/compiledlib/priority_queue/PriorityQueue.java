package compiledlib.priority_queue;
import java.security.SecureRandom;

import oram.CircuitOram;
import oram.SecureArray;
import flexsc.Mode;
import flexsc.Party;
import flexsc.CompEnv;

import java.util.BitSet;

import circuits.arithmetic.IntegerLib;
import circuits.arithmetic.FloatLib;
import util.Utils;
import gc.regular.GCEva;
import gc.regular.GCGen;
import gc.GCSignal;

import java.util.Arrays;
import java.util.Random;

import flexsc.IWritable;
import flexsc.Comparator;

import java.lang.reflect.Array;
public class PriorityQueue<T extends IWritable<T,Boolean>> {
	public CircuitOram<Boolean> poram;
	public Boolean[] size;
	public NodeId root;

	public CompEnv<Boolean> env;
	public IntegerLib<Boolean> intLib;
	public FloatLib<Boolean> floatLib;
	private T factoryT;
	private int m;

	public PriorityQueue(CompEnv<Boolean> env, int m, T factoryT, CircuitOram<Boolean> poram) throws Exception {
		this.env = env;
		this.intLib = new IntegerLib<Boolean>(env);
		this.floatLib = new FloatLib<Boolean>(env, 24, 8);
		this.m = m;
		this.factoryT = factoryT;
		this.poram = poram;
		this.size = env.inputOfAlice(Utils.fromInt(0, m));
		this.root = new NodeId(env, m);
	}

	public void init() throws Exception {
		Boolean[] f_tmp_0 = intLib.randBools(m);
		Boolean[] __tmp0 = f_tmp_0;
		NodeId f_tmp_1 = this.root;
		NodeId __tmp1 = f_tmp_1;
		__tmp1.pos = __tmp0;
		int f_tmp_2 = 0;
		int __tmp2 = f_tmp_2;
		Boolean[] f_tmp_3 = env.inputOfAlice(Utils.fromInt(__tmp2, m));
		this.size = f_tmp_3;
		int f_tmp_4 = 0;
		int __tmp3 = f_tmp_4;
		NodeId f_tmp_5 = this.root;
		NodeId __tmp4 = f_tmp_5;
		Boolean[] f_tmp_6 = env.inputOfAlice(Utils.fromInt(__tmp3, m));
		__tmp4.id = f_tmp_6;

	}
	public KeyValue<T> pqueue_op(Boolean[] key, T operand, Boolean op) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, m, factoryT);
		KeyValue<T> d = new KeyValue<T>(env, m, factoryT);
		Boolean insert_dummy_bit = env.inputOfAlice(false);
		Boolean pop_dummy_bit = env.inputOfAlice(false);
		KeyValue<T> f_tmp_7 = new KeyValue<T>(env, m, factoryT);
		f_tmp_7.value = operand;
		f_tmp_7.key = key;
		KeyValue<T> __tmp5 = f_tmp_7;
		d = __tmp5;
		boolean f_tmp_8 = true;
		boolean __tmp6 = f_tmp_8;
		Boolean f_tmp_10 = env.inputOfAlice(__tmp6);
		Boolean f_tmp_9 = intLib.eq(op, f_tmp_10);
		Boolean __tmp7 = f_tmp_9;
		boolean f_tmp_11 = false;
		boolean __tmp8 = f_tmp_11;
		Boolean f_tmp_13 = env.inputOfAlice(__tmp8);
		Boolean f_tmp_12 = intLib.mux(insert_dummy_bit, f_tmp_13,__tmp7);
		Boolean __tmp9 = f_tmp_12;
		insert_dummy_bit = __tmp9;
		boolean f_tmp_14 = true;
		boolean __tmp10 = f_tmp_14;
		Boolean f_tmp_16 = env.inputOfAlice(__tmp10);
		Boolean f_tmp_15 = intLib.mux(pop_dummy_bit, f_tmp_16,__tmp7);
		Boolean __tmp11 = f_tmp_15;
		pop_dummy_bit = __tmp11;
		Boolean f_tmp_17 = intLib.not(__tmp7);
		Boolean __tmp12 = f_tmp_17;
		boolean f_tmp_18 = true;
		boolean __tmp13 = f_tmp_18;
		Boolean f_tmp_20 = env.inputOfAlice(__tmp13);
		Boolean f_tmp_19 = intLib.mux(insert_dummy_bit, f_tmp_20,__tmp12);
		Boolean __tmp14 = f_tmp_19;
		insert_dummy_bit = __tmp14;
		boolean f_tmp_21 = false;
		boolean __tmp15 = f_tmp_21;
		Boolean f_tmp_23 = env.inputOfAlice(__tmp15);
		Boolean f_tmp_22 = intLib.mux(pop_dummy_bit, f_tmp_23,__tmp12);
		Boolean __tmp16 = f_tmp_22;
		pop_dummy_bit = __tmp16;
//		System.out.println(poram.cnttt);
		KeyValue<T> f_tmp_24 = this.extractMax(pop_dummy_bit);
//		System.out.println(poram.cnttt);
		KeyValue<T> __tmp17 = f_tmp_24;
		ret = __tmp17;
		this.insert(d, insert_dummy_bit);
		return ret;
	}
	public void push(Boolean[] key, T operand, Boolean dummy_bit) throws Exception {
		KeyValue<T> d = new KeyValue<T>(env, m, factoryT);
		KeyValue<T> f_tmp_26 = new KeyValue<T>(env, m, factoryT);
		f_tmp_26.value = operand;
		f_tmp_26.key = key;
		KeyValue<T> __tmp19 = f_tmp_26;
		d = __tmp19;
		this.insert(d, dummy_bit);

	}
	public KeyValue<T> pop(Boolean dummy_bit) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, m, factoryT);
		KeyValue<T> f_tmp_28 = this.extractMax(dummy_bit);
		KeyValue<T> __tmp21 = f_tmp_28;
		ret = __tmp21;
		return ret;
	}
	public Boolean[] right_shift(Boolean[] id, int s) throws Exception {
		Boolean[] ret = env.inputOfAlice(Utils.fromInt(0, m));
		int i = 0;
		ret = id;
		int f_tmp_29 = 0;
		int __tmp22 = f_tmp_29;
		i = __tmp22;
		boolean f_tmp_30 = i < s;
		boolean __tmp23 = f_tmp_30;
		while(__tmp23) {
			int f_tmp_31 = 1;
			int __tmp24 = f_tmp_31;
			Boolean[] f_tmp_32 = intLib.rightPublicShift(ret, __tmp24);
			Boolean[] __tmp25 = f_tmp_32;
			ret = __tmp25;
			int f_tmp_33 = 1;
			int __tmp26 = f_tmp_33;
			int f_tmp_34 = i + __tmp26;
			int __tmp27 = f_tmp_34;
			i = __tmp27;
			boolean f_tmp_35 = i < s;
			__tmp23 = f_tmp_35;
		}
		return ret;
	}
	public Boolean should_go_left(Boolean[] id, int level) throws Exception {
		Boolean ret = env.inputOfAlice(false);
		Boolean[] res = env.inputOfAlice(Utils.fromInt(0, m));
		Boolean[] tmpid = env.inputOfAlice(Utils.fromInt(0, m));
		int i = 0;
		Boolean[] toshift = env.inputOfAlice(Utils.fromInt(0, m));
		int f_tmp_36 = 1;
		int __tmp28 = f_tmp_36;
		int f_tmp_37 = m - __tmp28;
		int __tmp29 = f_tmp_37;
		boolean f_tmp_38 = level >= __tmp29;
		boolean __tmp30 = f_tmp_38;
		if(__tmp30) {
			boolean f_tmp_39 = true;
			boolean __tmp31 = f_tmp_39;
			ret = env.inputOfAlice(__tmp31);
		} else {
			int f_tmp_40 = 0;
			int __tmp32 = f_tmp_40;
			res = env.inputOfAlice(Utils.fromInt(__tmp32, m));
			tmpid = id;
			int f_tmp_41 = 0;
			int __tmp33 = f_tmp_41;
			i = __tmp33;
			int f_tmp_42 = 0;
			int __tmp34 = f_tmp_42;
			i = __tmp34;
			boolean f_tmp_43 = i < m;
			boolean __tmp35 = f_tmp_43;
			while(__tmp35) {
				int f_tmp_44 = 1;
				int __tmp36 = f_tmp_44;
				Boolean[] f_tmp_46 = env.inputOfAlice(Utils.fromInt(__tmp36, m));
				Boolean f_tmp_45 = intLib.eq(tmpid, f_tmp_46);
				Boolean __tmp37 = f_tmp_45;
				Boolean[] f_tmp_48 = env.inputOfAlice(Utils.fromInt(i, m));
				Boolean[] f_tmp_47 = intLib.mux(res, f_tmp_48,__tmp37);
				Boolean[] __tmp38 = f_tmp_47;
				res = __tmp38;
				Boolean f_tmp_49 = intLib.not(__tmp37);
				Boolean __tmp39 = f_tmp_49;
				int f_tmp_50 = 1;
				int __tmp40 = f_tmp_50;
				Boolean[] f_tmp_51 = intLib.rightPublicShift(tmpid, __tmp40);
				Boolean[] __tmp41 = f_tmp_51;
				tmpid = __tmp41;
				int f_tmp_52 = 1;
				int __tmp42 = f_tmp_52;
				int f_tmp_53 = i + __tmp42;
				int __tmp43 = f_tmp_53;
				i = __tmp43;
				boolean f_tmp_54 = i < m;
				__tmp35 = f_tmp_54;
			}
			tmpid = id;
			Boolean[] f_tmp_56 = env.inputOfAlice(Utils.fromInt(level, m));
			Boolean[] f_tmp_55 = intLib.sub(res,f_tmp_56);
			Boolean[] __tmp44 = f_tmp_55;
			toshift = __tmp44;
			int f_tmp_57 = 0;
			int __tmp45 = f_tmp_57;
			i = __tmp45;
			boolean f_tmp_58 = i < m;
			boolean __tmp46 = f_tmp_58;
			while(__tmp46) {
				int f_tmp_59 = 0;
				int __tmp47 = f_tmp_59;
				Boolean[] f_tmp_61 = env.inputOfAlice(Utils.fromInt(__tmp47, m));
				Boolean f_tmp_60 = intLib.not(intLib.leq(toshift, f_tmp_61));
				Boolean __tmp48 = f_tmp_60;
				int f_tmp_62 = 1;
				int __tmp49 = f_tmp_62;
				Boolean[] f_tmp_63 = intLib.rightPublicShift(tmpid, __tmp49);
				Boolean[] __tmp50 = f_tmp_63;
				Boolean[] f_tmp_64 = intLib.mux(tmpid, __tmp50,__tmp48);
				Boolean[] __tmp51 = f_tmp_64;
				tmpid = __tmp51;
				int f_tmp_65 = 1;
				int __tmp52 = f_tmp_65;
				Boolean[] f_tmp_67 = env.inputOfAlice(Utils.fromInt(__tmp52, m));
				Boolean[] f_tmp_66 = intLib.sub(toshift,f_tmp_67);
				Boolean[] __tmp53 = f_tmp_66;
				Boolean[] f_tmp_68 = intLib.mux(toshift, __tmp53,__tmp48);
				Boolean[] __tmp54 = f_tmp_68;
				toshift = __tmp54;
				Boolean f_tmp_69 = intLib.not(__tmp48);
				Boolean __tmp55 = f_tmp_69;
				int f_tmp_70 = 1;
				int __tmp56 = f_tmp_70;
				int f_tmp_71 = i + __tmp56;
				int __tmp57 = f_tmp_71;
				i = __tmp57;
				boolean f_tmp_72 = i < m;
				__tmp46 = f_tmp_72;
			}
			int f_tmp_73 = 1;
			int __tmp58 = f_tmp_73;
			Boolean[] f_tmp_75 = env.inputOfAlice(Utils.fromInt(__tmp58, m));
			Boolean f_tmp_74 = intLib.eq(id, f_tmp_75);
			Boolean __tmp59 = f_tmp_74;
			boolean f_tmp_76 = true;
			boolean __tmp60 = f_tmp_76;
			Boolean f_tmp_78 = env.inputOfAlice(__tmp60);
			Boolean f_tmp_77 = intLib.mux(ret, f_tmp_78,__tmp59);
			Boolean __tmp61 = f_tmp_77;
			ret = __tmp61;
			Boolean f_tmp_79 = intLib.not(__tmp59);
			Boolean __tmp62 = f_tmp_79;
			int f_tmp_80 = 1;
			int __tmp63 = f_tmp_80;
			Boolean[] f_tmp_82 = env.inputOfAlice(Utils.fromInt(__tmp63, m));
			Boolean[] f_tmp_81 = intLib.and(tmpid,f_tmp_82);
			Boolean[] __tmp64 = f_tmp_81;
			int f_tmp_83 = 0;
			int __tmp65 = f_tmp_83;
			Boolean[] f_tmp_85 = env.inputOfAlice(Utils.fromInt(__tmp65, m));
			Boolean f_tmp_84 = intLib.eq(__tmp64, f_tmp_85);
			Boolean __tmp66 = f_tmp_84;
			Boolean f_tmp_86 = intLib.and(__tmp62,__tmp66);
			Boolean __tmp67 = f_tmp_86;
			boolean f_tmp_87 = true;
			boolean __tmp68 = f_tmp_87;
			Boolean f_tmp_89 = env.inputOfAlice(__tmp68);
			Boolean f_tmp_88 = intLib.mux(ret, f_tmp_89,__tmp67);
			Boolean __tmp69 = f_tmp_88;
			ret = __tmp69;
			Boolean f_tmp_90 = intLib.not(__tmp66);
			Boolean __tmp70 = f_tmp_90;
			Boolean f_tmp_91 = intLib.and(__tmp62,__tmp70);
			Boolean __tmp71 = f_tmp_91;
			boolean f_tmp_92 = false;
			boolean __tmp72 = f_tmp_92;
			Boolean f_tmp_94 = env.inputOfAlice(__tmp72);
			Boolean f_tmp_93 = intLib.mux(ret, f_tmp_94,__tmp71);
			Boolean __tmp73 = f_tmp_93;
			ret = __tmp73;
		}
		return ret;
	}
	public KeyValue<T> extractMax(Boolean dummy_bit) throws Exception {
		KeyValue<T> ret = new KeyValue<T>(env, m, factoryT);
		PriorityQueueNode<T> last_node = new PriorityQueueNode<T>(env, m, factoryT);
		Boolean newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> root_node = new PriorityQueueNode<T>(env, m, factoryT);
		NodeId f_tmp_95 = this.root;
		NodeId __tmp74 = f_tmp_95;
		int f_tmp_96 = 1;
		int __tmp75 = f_tmp_96;
		PriorityQueueNode<T> f_tmp_97 = this.get_last(__tmp74, __tmp75, dummy_bit);
		PriorityQueueNode<T> __tmp76 = f_tmp_97;
		last_node = __tmp76;
		boolean f_tmp_98 = false;
		boolean __tmp77 = f_tmp_98;
		newdummy_bit = env.inputOfAlice(__tmp77);
		boolean f_tmp_99 = true;
		boolean __tmp78 = f_tmp_99;
		Boolean f_tmp_101 = env.inputOfAlice(__tmp78);
		Boolean f_tmp_100 = intLib.eq(dummy_bit, f_tmp_101);
		Boolean __tmp79 = f_tmp_100;
		int f_tmp_102 = 1;
		int __tmp80 = f_tmp_102;
		NodeId f_tmp_103 = this.root;
		NodeId __tmp81 = f_tmp_103;
		Boolean[] f_tmp_104 = __tmp81.id;
		Boolean[] __tmp82 = f_tmp_104;
		Boolean[] f_tmp_106 = env.inputOfAlice(Utils.fromInt(__tmp80, m));
		Boolean[] f_tmp_105 = intLib.mux(__tmp82, f_tmp_106,__tmp79);
		Boolean[] __tmp83 = f_tmp_105;
		__tmp81.id = __tmp83;
		Boolean[] f_tmp_107 = this.size;
		Boolean[] __tmp84 = f_tmp_107;
		int f_tmp_108 = 1;
		int __tmp85 = f_tmp_108;
		Boolean[] f_tmp_110 = env.inputOfAlice(Utils.fromInt(__tmp85, m));
		Boolean[] f_tmp_109 = intLib.sub(__tmp84,f_tmp_110);
		Boolean[] __tmp86 = f_tmp_109;
		Boolean[] f_tmp_111 = this.size;
		Boolean[] __tmp87 = f_tmp_111;
		Boolean[] f_tmp_112 = intLib.mux(__tmp87, __tmp86,__tmp79);
		Boolean[] __tmp88 = f_tmp_112;
		this.size = __tmp88;
		Boolean[] f_tmp_113 = this.size;
		Boolean[] __tmp89 = f_tmp_113;
		int f_tmp_114 = 0;
		int __tmp90 = f_tmp_114;
		Boolean[] f_tmp_116 = env.inputOfAlice(Utils.fromInt(__tmp90, m));
		Boolean f_tmp_115 = intLib.not(intLib.leq(__tmp89, f_tmp_116));
		Boolean __tmp91 = f_tmp_115;
		Boolean f_tmp_117 = intLib.and(__tmp79,__tmp91);
		Boolean __tmp92 = f_tmp_117;
		Boolean[] f_tmp_118 = this.size;
		Boolean[] __tmp93 = f_tmp_118;
		int f_tmp_119 = 0;
		int __tmp94 = f_tmp_119;
		Boolean[] f_tmp_121 = env.inputOfAlice(Utils.fromInt(__tmp94, m));
		Boolean f_tmp_120 = intLib.not(intLib.leq(__tmp93, f_tmp_121));
		Boolean __tmp95 = f_tmp_120;
		boolean f_tmp_122 = true;
		boolean __tmp96 = f_tmp_122;
		Boolean f_tmp_124 = env.inputOfAlice(__tmp96);
		Boolean f_tmp_123 = intLib.eq(dummy_bit, f_tmp_124);
		Boolean __tmp97 = f_tmp_123;
		Boolean f_tmp_125 = intLib.and(__tmp95,__tmp97);
		Boolean __tmp98 = f_tmp_125;
		Boolean f_tmp_126 = intLib.and(__tmp92,__tmp98);
		Boolean __tmp99 = f_tmp_126;
		boolean f_tmp_127 = true;
		boolean __tmp100 = f_tmp_127;
		Boolean f_tmp_129 = env.inputOfAlice(__tmp100);
		Boolean f_tmp_128 = intLib.mux(newdummy_bit, f_tmp_129,__tmp99);
		Boolean __tmp101 = f_tmp_128;
		newdummy_bit = __tmp101;
		Boolean f_tmp_130 = intLib.not(__tmp98);
		Boolean __tmp102 = f_tmp_130;
		Boolean f_tmp_131 = intLib.and(__tmp92,__tmp102);
		Boolean __tmp103 = f_tmp_131;
		boolean f_tmp_132 = false;
		boolean __tmp104 = f_tmp_132;
		Boolean f_tmp_134 = env.inputOfAlice(__tmp104);
		Boolean f_tmp_133 = intLib.mux(newdummy_bit, f_tmp_134,__tmp103);
		Boolean __tmp105 = f_tmp_133;
		newdummy_bit = __tmp105;
		NodeId f_tmp_135 = last_node.left;
		NodeId __tmp106 = f_tmp_135;
		Boolean[] f_tmp_136 = __tmp106.pos;
		Boolean[] __tmp107 = f_tmp_136;
		NodeId f_tmp_137 = this.root;
		NodeId __tmp108 = f_tmp_137;
		Boolean[] f_tmp_138 = __tmp108.pos;
		Boolean[] __tmp109 = f_tmp_138;
		Boolean[] f_tmp_139 = intLib.mux(__tmp109, __tmp107,__tmp92);
		Boolean[] __tmp110 = f_tmp_139;
		__tmp108.pos = __tmp110;
		NodeId f_tmp_140 = this.root;
		NodeId __tmp111 = f_tmp_140;
		Boolean[] f_tmp_141 = __tmp111.id;
		Boolean[] __tmp112 = f_tmp_141;
		NodeId f_tmp_142 = this.root;
		NodeId __tmp113 = f_tmp_142;
		Boolean[] f_tmp_143 = __tmp113.pos;
		Boolean[] __tmp114 = f_tmp_143;
		CircuitOram<Boolean> f_tmp_144 = this.poram;
		CircuitOram<Boolean> __tmp115 = f_tmp_144;
		PriorityQueueNode<T> f_tmp_145 = new PriorityQueueNode<T>(env, m, factoryT).newObj(__tmp115.conditionalReadAndRemove(__tmp112, __tmp114, __tmp92));
		PriorityQueueNode<T> __tmp116 = f_tmp_145;
		PriorityQueueNode<T> f_tmp_146 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(root_node.getBits(), __tmp116.getBits(),__tmp92));
		PriorityQueueNode<T> __tmp117 = f_tmp_146;
		root_node = __tmp117;
		KeyValue<T> f_tmp_147 = root_node.keyvalue;
		KeyValue<T> __tmp118 = f_tmp_147;
		KeyValue<T> f_tmp_148 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(ret.getBits(), __tmp118.getBits(),__tmp92));
		KeyValue<T> __tmp119 = f_tmp_148;
		ret = __tmp119;
		KeyValue<T> f_tmp_149 = last_node.keyvalue;
		KeyValue<T> __tmp120 = f_tmp_149;
		KeyValue<T> f_tmp_150 = root_node.keyvalue;
		KeyValue<T> __tmp121 = f_tmp_150;
		KeyValue<T> f_tmp_151 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp121.getBits(), __tmp120.getBits(),__tmp92));
		KeyValue<T> __tmp122 = f_tmp_151;
		root_node.keyvalue = __tmp122;
		NodeId f_tmp_152 = this.root;
		NodeId __tmp123 = f_tmp_152;
		Boolean[] f_tmp_153 = __tmp123.id;
		Boolean[] __tmp124 = f_tmp_153;
		int f_tmp_154 = 1;
		int __tmp125 = f_tmp_154;
		Boolean[] f_tmp_155 = this.heapify(__tmp124, root_node, __tmp125, newdummy_bit);
		Boolean[] __tmp126 = f_tmp_155;
		NodeId f_tmp_156 = this.root;
		NodeId __tmp127 = f_tmp_156;
		Boolean[] f_tmp_157 = __tmp127.pos;
		Boolean[] __tmp128 = f_tmp_157;
		Boolean[] f_tmp_158 = intLib.mux(__tmp128, __tmp126,__tmp92);
		Boolean[] __tmp129 = f_tmp_158;
		__tmp127.pos = __tmp129;
		Boolean f_tmp_159 = intLib.not(__tmp91);
		Boolean __tmp130 = f_tmp_159;
		Boolean f_tmp_160 = intLib.and(__tmp79,__tmp130);
		Boolean __tmp131 = f_tmp_160;
		KeyValue<T> f_tmp_161 = last_node.keyvalue;
		KeyValue<T> __tmp132 = f_tmp_161;
		KeyValue<T> f_tmp_162 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(ret.getBits(), __tmp132.getBits(),__tmp131));
		KeyValue<T> __tmp133 = f_tmp_162;
		ret = __tmp133;
		Boolean[] f_tmp_163 = intLib.randBools(m);
		Boolean[] __tmp134 = f_tmp_163;
		NodeId f_tmp_164 = this.root;
		NodeId __tmp135 = f_tmp_164;
		Boolean[] f_tmp_165 = __tmp135.pos;
		Boolean[] __tmp136 = f_tmp_165;
		Boolean[] f_tmp_166 = intLib.mux(__tmp136, __tmp134,__tmp131);
		Boolean[] __tmp137 = f_tmp_166;
		__tmp135.pos = __tmp137;
		Boolean f_tmp_167 = intLib.not(__tmp79);
		Boolean __tmp138 = f_tmp_167;
		return ret;
	}
	public Boolean[] heapify(Boolean[] top_id, PriorityQueueNode<T> top_node, int level, Boolean dummy_bit) throws Exception {
		Boolean[] ret = intLib.randBools(m);
		Boolean newdummy_bit = env.inputOfAlice(false);
		Boolean go_left = env.inputOfAlice(false);
		Boolean[] child_iter = intLib.randBools(m);
		Boolean[] id_to_use = env.inputOfAlice(Utils.fromInt(0, m));
		Boolean[] pos_to_use = intLib.randBools(m);
		PriorityQueueNode<T> node_to_use = new PriorityQueueNode<T>(env, m, factoryT);
		PriorityQueueNode<T> left_node = new PriorityQueueNode<T>(env, m, factoryT);
		PriorityQueueNode<T> right_node = new PriorityQueueNode<T>(env, m, factoryT);
		KeyValue<T> tmp_kv = new KeyValue<T>(env, m, factoryT);
		boolean f_tmp_168 = false;
		boolean __tmp139 = f_tmp_168;
		newdummy_bit = env.inputOfAlice(__tmp139);
		boolean f_tmp_169 = false;
		boolean __tmp140 = f_tmp_169;
		go_left = env.inputOfAlice(__tmp140);
		boolean f_tmp_170 = level < m;
		boolean __tmp141 = f_tmp_170;
		if(__tmp141) {
			boolean f_tmp_171 = true;
			boolean __tmp142 = f_tmp_171;
			Boolean f_tmp_173 = env.inputOfAlice(__tmp142);
			Boolean f_tmp_172 = intLib.eq(dummy_bit, f_tmp_173);
			Boolean __tmp143 = f_tmp_172;
			Boolean[] f_tmp_174 = this.size;
			Boolean[] __tmp144 = f_tmp_174;
			Boolean f_tmp_175 = intLib.leq(top_id, __tmp144);
			Boolean __tmp145 = f_tmp_175;
			Boolean f_tmp_176 = intLib.and(__tmp143,__tmp145);
			Boolean __tmp146 = f_tmp_176;
			Boolean[] f_tmp_177 = this.size;
			Boolean[] __tmp147 = f_tmp_177;
			int f_tmp_178 = 1;
			int __tmp148 = f_tmp_178;
			Boolean[] f_tmp_179 = intLib.rightPublicShift(__tmp147, __tmp148);
			Boolean[] __tmp149 = f_tmp_179;
			Boolean f_tmp_180 = intLib.leq(top_id, __tmp149);
			Boolean __tmp150 = f_tmp_180;
			Boolean f_tmp_181 = intLib.and(__tmp146,__tmp150);
			Boolean __tmp151 = f_tmp_181;
			NodeId f_tmp_182 = top_node.left;
			NodeId __tmp152 = f_tmp_182;
			Boolean[] f_tmp_183 = __tmp152.id;
			Boolean[] __tmp153 = f_tmp_183;
			NodeId f_tmp_184 = top_node.left;
			NodeId __tmp154 = f_tmp_184;
			Boolean[] f_tmp_185 = __tmp154.pos;
			Boolean[] __tmp155 = f_tmp_185;
			CircuitOram<Boolean> f_tmp_186 = this.poram;
			CircuitOram<Boolean> __tmp156 = f_tmp_186;
			PriorityQueueNode<T> f_tmp_187 = new PriorityQueueNode<T>(env, m, factoryT).newObj(__tmp156.conditionalReadAndRemove(__tmp153, __tmp155, __tmp151));
			PriorityQueueNode<T> __tmp157 = f_tmp_187;
			PriorityQueueNode<T> f_tmp_188 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(left_node.getBits(), __tmp157.getBits(),__tmp151));
			PriorityQueueNode<T> __tmp158 = f_tmp_188;
			left_node = __tmp158;
			NodeId f_tmp_189 = top_node.right;
			NodeId __tmp159 = f_tmp_189;
			Boolean[] f_tmp_190 = __tmp159.id;
			Boolean[] __tmp160 = f_tmp_190;
			NodeId f_tmp_191 = top_node.right;
			NodeId __tmp161 = f_tmp_191;
			Boolean[] f_tmp_192 = __tmp161.pos;
			Boolean[] __tmp162 = f_tmp_192;
			CircuitOram<Boolean> f_tmp_193 = this.poram;
			CircuitOram<Boolean> __tmp163 = f_tmp_193;
			PriorityQueueNode<T> f_tmp_194 = new PriorityQueueNode<T>(env, m, factoryT).newObj(__tmp163.conditionalReadAndRemove(__tmp160, __tmp162, __tmp151));
			PriorityQueueNode<T> __tmp164 = f_tmp_194;
			PriorityQueueNode<T> f_tmp_195 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(right_node.getBits(), __tmp164.getBits(),__tmp151));
			PriorityQueueNode<T> __tmp165 = f_tmp_195;
			right_node = __tmp165;
			KeyValue<T> f_tmp_196 = left_node.keyvalue;
			KeyValue<T> __tmp166 = f_tmp_196;
			Boolean[] f_tmp_197 = __tmp166.key;
			Boolean[] __tmp167 = f_tmp_197;
			KeyValue<T> f_tmp_198 = right_node.keyvalue;
			KeyValue<T> __tmp168 = f_tmp_198;
			Boolean[] f_tmp_199 = __tmp168.key;
			Boolean[] __tmp169 = f_tmp_199;
			Boolean f_tmp_200 = intLib.not(intLib.leq(__tmp167, __tmp169));
			Boolean __tmp170 = f_tmp_200;
			Boolean f_tmp_201 = intLib.and(__tmp151,__tmp170);
			Boolean __tmp171 = f_tmp_201;
			KeyValue<T> f_tmp_202 = left_node.keyvalue;
			KeyValue<T> __tmp172 = f_tmp_202;
			Boolean[] f_tmp_203 = __tmp172.key;
			Boolean[] __tmp173 = f_tmp_203;
			KeyValue<T> f_tmp_204 = top_node.keyvalue;
			KeyValue<T> __tmp174 = f_tmp_204;
			Boolean[] f_tmp_205 = __tmp174.key;
			Boolean[] __tmp175 = f_tmp_205;
			Boolean f_tmp_206 = intLib.not(intLib.leq(__tmp173, __tmp175));
			Boolean __tmp176 = f_tmp_206;
			Boolean f_tmp_207 = intLib.and(__tmp171,__tmp176);
			Boolean __tmp177 = f_tmp_207;
			KeyValue<T> f_tmp_208 = top_node.keyvalue;
			KeyValue<T> __tmp178 = f_tmp_208;
			KeyValue<T> f_tmp_209 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(tmp_kv.getBits(), __tmp178.getBits(),__tmp177));
			KeyValue<T> __tmp179 = f_tmp_209;
			tmp_kv = __tmp179;
			KeyValue<T> f_tmp_210 = left_node.keyvalue;
			KeyValue<T> __tmp180 = f_tmp_210;
			KeyValue<T> f_tmp_211 = top_node.keyvalue;
			KeyValue<T> __tmp181 = f_tmp_211;
			KeyValue<T> f_tmp_212 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp181.getBits(), __tmp180.getBits(),__tmp177));
			KeyValue<T> __tmp182 = f_tmp_212;
			top_node.keyvalue = __tmp182;
			KeyValue<T> f_tmp_213 = left_node.keyvalue;
			KeyValue<T> __tmp183 = f_tmp_213;
			KeyValue<T> f_tmp_214 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp183.getBits(), tmp_kv.getBits(),__tmp177));
			KeyValue<T> __tmp184 = f_tmp_214;
			left_node.keyvalue = __tmp184;
			boolean f_tmp_215 = true;
			boolean __tmp185 = f_tmp_215;
			Boolean f_tmp_217 = env.inputOfAlice(__tmp185);
			Boolean f_tmp_216 = intLib.mux(go_left, f_tmp_217,__tmp177);
			Boolean __tmp186 = f_tmp_216;
			go_left = __tmp186;
			Boolean f_tmp_218 = intLib.not(__tmp176);
			Boolean __tmp187 = f_tmp_218;
			Boolean f_tmp_219 = intLib.and(__tmp171,__tmp187);
			Boolean __tmp188 = f_tmp_219;
			Boolean f_tmp_220 = intLib.not(__tmp170);
			Boolean __tmp189 = f_tmp_220;
			Boolean f_tmp_221 = intLib.and(__tmp151,__tmp189);
			Boolean __tmp190 = f_tmp_221;
			KeyValue<T> f_tmp_222 = right_node.keyvalue;
			KeyValue<T> __tmp191 = f_tmp_222;
			Boolean[] f_tmp_223 = __tmp191.key;
			Boolean[] __tmp192 = f_tmp_223;
			KeyValue<T> f_tmp_224 = top_node.keyvalue;
			KeyValue<T> __tmp193 = f_tmp_224;
			Boolean[] f_tmp_225 = __tmp193.key;
			Boolean[] __tmp194 = f_tmp_225;
			Boolean f_tmp_226 = intLib.not(intLib.leq(__tmp192, __tmp194));
			Boolean __tmp195 = f_tmp_226;
			Boolean f_tmp_227 = intLib.and(__tmp190,__tmp195);
			Boolean __tmp196 = f_tmp_227;
			KeyValue<T> f_tmp_228 = top_node.keyvalue;
			KeyValue<T> __tmp197 = f_tmp_228;
			KeyValue<T> f_tmp_229 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(tmp_kv.getBits(), __tmp197.getBits(),__tmp196));
			KeyValue<T> __tmp198 = f_tmp_229;
			tmp_kv = __tmp198;
			KeyValue<T> f_tmp_230 = right_node.keyvalue;
			KeyValue<T> __tmp199 = f_tmp_230;
			KeyValue<T> f_tmp_231 = top_node.keyvalue;
			KeyValue<T> __tmp200 = f_tmp_231;
			KeyValue<T> f_tmp_232 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp200.getBits(), __tmp199.getBits(),__tmp196));
			KeyValue<T> __tmp201 = f_tmp_232;
			top_node.keyvalue = __tmp201;
			KeyValue<T> f_tmp_233 = right_node.keyvalue;
			KeyValue<T> __tmp202 = f_tmp_233;
			KeyValue<T> f_tmp_234 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp202.getBits(), tmp_kv.getBits(),__tmp196));
			KeyValue<T> __tmp203 = f_tmp_234;
			right_node.keyvalue = __tmp203;
			boolean f_tmp_235 = false;
			boolean __tmp204 = f_tmp_235;
			Boolean f_tmp_237 = env.inputOfAlice(__tmp204);
			Boolean f_tmp_236 = intLib.mux(go_left, f_tmp_237,__tmp196);
			Boolean __tmp205 = f_tmp_236;
			go_left = __tmp205;
			Boolean f_tmp_238 = intLib.not(__tmp195);
			Boolean __tmp206 = f_tmp_238;
			Boolean f_tmp_239 = intLib.and(__tmp190,__tmp206);
			Boolean __tmp207 = f_tmp_239;
			boolean f_tmp_240 = true;
			boolean __tmp208 = f_tmp_240;
			Boolean f_tmp_242 = env.inputOfAlice(__tmp208);
			Boolean f_tmp_241 = intLib.eq(go_left, f_tmp_242);
			Boolean __tmp209 = f_tmp_241;
			Boolean f_tmp_243 = intLib.and(__tmp151,__tmp209);
			Boolean __tmp210 = f_tmp_243;
			PriorityQueueNode<T> f_tmp_244 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), left_node.getBits(),__tmp210));
			PriorityQueueNode<T> __tmp211 = f_tmp_244;
			node_to_use = __tmp211;
			NodeId f_tmp_245 = top_node.left;
			NodeId __tmp212 = f_tmp_245;
			Boolean[] f_tmp_246 = __tmp212.id;
			Boolean[] __tmp213 = f_tmp_246;
			Boolean[] f_tmp_247 = intLib.mux(id_to_use, __tmp213,__tmp210);
			Boolean[] __tmp214 = f_tmp_247;
			id_to_use = __tmp214;
			Boolean f_tmp_248 = intLib.not(__tmp209);
			Boolean __tmp215 = f_tmp_248;
			Boolean f_tmp_249 = intLib.and(__tmp151,__tmp215);
			Boolean __tmp216 = f_tmp_249;
			PriorityQueueNode<T> f_tmp_250 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), right_node.getBits(),__tmp216));
			PriorityQueueNode<T> __tmp217 = f_tmp_250;
			node_to_use = __tmp217;
			NodeId f_tmp_251 = top_node.right;
			NodeId __tmp218 = f_tmp_251;
			Boolean[] f_tmp_252 = __tmp218.id;
			Boolean[] __tmp219 = f_tmp_252;
			Boolean[] f_tmp_253 = intLib.mux(id_to_use, __tmp219,__tmp216);
			Boolean[] __tmp220 = f_tmp_253;
			id_to_use = __tmp220;
			boolean f_tmp_254 = true;
			boolean __tmp221 = f_tmp_254;
			Boolean f_tmp_256 = env.inputOfAlice(__tmp221);
			Boolean f_tmp_255 = intLib.eq(dummy_bit, f_tmp_256);
			Boolean __tmp222 = f_tmp_255;
			Boolean[] f_tmp_257 = this.size;
			Boolean[] __tmp223 = f_tmp_257;
			int f_tmp_258 = 1;
			int __tmp224 = f_tmp_258;
			Boolean[] f_tmp_259 = intLib.rightPublicShift(__tmp223, __tmp224);
			Boolean[] __tmp225 = f_tmp_259;
			Boolean f_tmp_260 = intLib.leq(top_id, __tmp225);
			Boolean __tmp226 = f_tmp_260;
			Boolean f_tmp_261 = intLib.and(__tmp222,__tmp226);
			Boolean __tmp227 = f_tmp_261;
			Boolean f_tmp_262 = intLib.and(__tmp151,__tmp227);
			Boolean __tmp228 = f_tmp_262;
			boolean f_tmp_263 = true;
			boolean __tmp229 = f_tmp_263;
			Boolean f_tmp_265 = env.inputOfAlice(__tmp229);
			Boolean f_tmp_264 = intLib.mux(newdummy_bit, f_tmp_265,__tmp228);
			Boolean __tmp230 = f_tmp_264;
			newdummy_bit = __tmp230;
			Boolean f_tmp_266 = intLib.not(__tmp227);
			Boolean __tmp231 = f_tmp_266;
			Boolean f_tmp_267 = intLib.and(__tmp151,__tmp231);
			Boolean __tmp232 = f_tmp_267;
			boolean f_tmp_268 = false;
			boolean __tmp233 = f_tmp_268;
			Boolean f_tmp_270 = env.inputOfAlice(__tmp233);
			Boolean f_tmp_269 = intLib.mux(newdummy_bit, f_tmp_270,__tmp232);
			Boolean __tmp234 = f_tmp_269;
			newdummy_bit = __tmp234;
			int f_tmp_271 = 1;
			int __tmp235 = f_tmp_271;
			int f_tmp_272 = level + __tmp235;
			int __tmp236 = f_tmp_272;
			Boolean[] f_tmp_273 = this.heapify(id_to_use, node_to_use, __tmp236, newdummy_bit);
			Boolean[] __tmp237 = f_tmp_273;
			Boolean[] f_tmp_274 = intLib.mux(child_iter, __tmp237,__tmp151);
			Boolean[] __tmp238 = f_tmp_274;
			child_iter = __tmp238;
			NodeId f_tmp_275 = top_node.left;
			NodeId __tmp239 = f_tmp_275;
			Boolean[] f_tmp_276 = __tmp239.id;
			Boolean[] __tmp240 = f_tmp_276;
			Boolean[] f_tmp_277 = intLib.mux(id_to_use, __tmp240,__tmp151);
			Boolean[] __tmp241 = f_tmp_277;
			id_to_use = __tmp241;
			PriorityQueueNode<T> f_tmp_278 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), left_node.getBits(),__tmp151));
			PriorityQueueNode<T> __tmp242 = f_tmp_278;
			node_to_use = __tmp242;
			boolean f_tmp_279 = true;
			boolean __tmp243 = f_tmp_279;
			Boolean f_tmp_281 = env.inputOfAlice(__tmp243);
			Boolean f_tmp_280 = intLib.eq(go_left, f_tmp_281);
			Boolean __tmp244 = f_tmp_280;
			Boolean f_tmp_282 = intLib.and(__tmp151,__tmp244);
			Boolean __tmp245 = f_tmp_282;
			NodeId f_tmp_283 = top_node.left;
			NodeId __tmp246 = f_tmp_283;
			Boolean[] f_tmp_284 = __tmp246.pos;
			Boolean[] __tmp247 = f_tmp_284;
			Boolean[] f_tmp_285 = intLib.mux(__tmp247, child_iter,__tmp245);
			Boolean[] __tmp248 = f_tmp_285;
			__tmp246.pos = __tmp248;
			Boolean[] f_tmp_286 = intLib.randBools(m);
			Boolean[] __tmp249 = f_tmp_286;
			NodeId f_tmp_287 = top_node.right;
			NodeId __tmp250 = f_tmp_287;
			Boolean[] f_tmp_288 = __tmp250.pos;
			Boolean[] __tmp251 = f_tmp_288;
			Boolean[] f_tmp_289 = intLib.mux(__tmp251, __tmp249,__tmp245);
			Boolean[] __tmp252 = f_tmp_289;
			__tmp250.pos = __tmp252;
			NodeId f_tmp_290 = top_node.right;
			NodeId __tmp253 = f_tmp_290;
			Boolean[] f_tmp_291 = __tmp253.id;
			Boolean[] __tmp254 = f_tmp_291;
			Boolean[] f_tmp_292 = intLib.mux(id_to_use, __tmp254,__tmp245);
			Boolean[] __tmp255 = f_tmp_292;
			id_to_use = __tmp255;
			NodeId f_tmp_293 = top_node.right;
			NodeId __tmp256 = f_tmp_293;
			Boolean[] f_tmp_294 = __tmp256.pos;
			Boolean[] __tmp257 = f_tmp_294;
			Boolean[] f_tmp_295 = intLib.mux(pos_to_use, __tmp257,__tmp245);
			Boolean[] __tmp258 = f_tmp_295;
			pos_to_use = __tmp258;
			PriorityQueueNode<T> f_tmp_296 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node_to_use.getBits(), right_node.getBits(),__tmp245));
			PriorityQueueNode<T> __tmp259 = f_tmp_296;
			node_to_use = __tmp259;
			Boolean f_tmp_297 = intLib.not(__tmp244);
			Boolean __tmp260 = f_tmp_297;
			Boolean f_tmp_298 = intLib.and(__tmp151,__tmp260);
			Boolean __tmp261 = f_tmp_298;
			NodeId f_tmp_299 = top_node.right;
			NodeId __tmp262 = f_tmp_299;
			Boolean[] f_tmp_300 = __tmp262.pos;
			Boolean[] __tmp263 = f_tmp_300;
			Boolean[] f_tmp_301 = intLib.mux(__tmp263, child_iter,__tmp261);
			Boolean[] __tmp264 = f_tmp_301;
			__tmp262.pos = __tmp264;
			Boolean[] f_tmp_302 = intLib.randBools(m);
			Boolean[] __tmp265 = f_tmp_302;
			NodeId f_tmp_303 = top_node.left;
			NodeId __tmp266 = f_tmp_303;
			Boolean[] f_tmp_304 = __tmp266.pos;
			Boolean[] __tmp267 = f_tmp_304;
			Boolean[] f_tmp_305 = intLib.mux(__tmp267, __tmp265,__tmp261);
			Boolean[] __tmp268 = f_tmp_305;
			__tmp266.pos = __tmp268;
			NodeId f_tmp_306 = top_node.left;
			NodeId __tmp269 = f_tmp_306;
			Boolean[] f_tmp_307 = __tmp269.pos;
			Boolean[] __tmp270 = f_tmp_307;
			Boolean[] f_tmp_308 = intLib.mux(pos_to_use, __tmp270,__tmp261);
			Boolean[] __tmp271 = f_tmp_308;
			pos_to_use = __tmp271;
			CircuitOram<Boolean> f_tmp_309 = this.poram;
			CircuitOram<Boolean> __tmp272 = f_tmp_309;
			__tmp272.conditionalPutBack(id_to_use, pos_to_use, node_to_use.getBits(), __tmp151);
			Boolean f_tmp_311 = intLib.not(__tmp150);
			Boolean __tmp274 = f_tmp_311;
			Boolean f_tmp_312 = intLib.and(__tmp146,__tmp274);
			Boolean __tmp275 = f_tmp_312;
			Boolean[] f_tmp_313 = this.size;
			Boolean[] __tmp276 = f_tmp_313;
			Boolean f_tmp_314 = intLib.leq(top_id, __tmp276);
			Boolean __tmp277 = f_tmp_314;
			Boolean f_tmp_315 = intLib.and(__tmp146,__tmp277);
			Boolean __tmp278 = f_tmp_315;
			Boolean[] f_tmp_316 = intLib.randBools(m);
			Boolean[] __tmp279 = f_tmp_316;
			Boolean[] f_tmp_317 = intLib.mux(ret, __tmp279,__tmp278);
			Boolean[] __tmp280 = f_tmp_317;
			ret = __tmp280;
			CircuitOram<Boolean> f_tmp_318 = this.poram;
			CircuitOram<Boolean> __tmp281 = f_tmp_318;
			__tmp281.conditionalPutBack(top_id, ret, top_node.getBits(), __tmp278);
			Boolean f_tmp_320 = intLib.not(__tmp277);
			Boolean __tmp283 = f_tmp_320;
			Boolean f_tmp_321 = intLib.and(__tmp146,__tmp283);
			Boolean __tmp284 = f_tmp_321;
			Boolean f_tmp_322 = intLib.not(__tmp146);
			Boolean __tmp285 = f_tmp_322;
		} else {
		}
		return ret;
	}
	public PriorityQueueNode<T> get_last(NodeId top, int level, Boolean dummy_bit) throws Exception {
		PriorityQueueNode<T> ret = new PriorityQueueNode<T>(env, m, factoryT);
		Boolean newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> node = new PriorityQueueNode<T>(env, m, factoryT);
		PriorityQueueNode<T> child = new PriorityQueueNode<T>(env, m, factoryT);
		Boolean go_left = env.inputOfAlice(false);
		NodeId next = new NodeId(env, m);
		boolean f_tmp_323 = false;
		boolean __tmp286 = f_tmp_323;
		newdummy_bit = env.inputOfAlice(__tmp286);
		boolean f_tmp_324 = level < m;
		boolean __tmp287 = f_tmp_324;
		if(__tmp287) {
			boolean f_tmp_325 = true;
			boolean __tmp288 = f_tmp_325;
			Boolean f_tmp_327 = env.inputOfAlice(__tmp288);
			Boolean f_tmp_326 = intLib.eq(dummy_bit, f_tmp_327);
			Boolean __tmp289 = f_tmp_326;
			Boolean[] f_tmp_328 = top.id;
			Boolean[] __tmp290 = f_tmp_328;
			Boolean[] f_tmp_329 = this.size;
			Boolean[] __tmp291 = f_tmp_329;
			Boolean f_tmp_330 = intLib.leq(__tmp290, __tmp291);
			Boolean __tmp292 = f_tmp_330;
			Boolean f_tmp_331 = intLib.and(__tmp289,__tmp292);
			Boolean __tmp293 = f_tmp_331;
			Boolean[] f_tmp_332 = top.id;
			Boolean[] __tmp294 = f_tmp_332;
			Boolean[] f_tmp_333 = top.pos;
			Boolean[] __tmp295 = f_tmp_333;
			CircuitOram<Boolean> f_tmp_334 = this.poram;
			CircuitOram<Boolean> __tmp296 = f_tmp_334;
			PriorityQueueNode<T> f_tmp_335 = new PriorityQueueNode<T>(env, m, factoryT).newObj(__tmp296.conditionalReadAndRemove(__tmp294, __tmp295, __tmp293));
			PriorityQueueNode<T> __tmp297 = f_tmp_335;
			PriorityQueueNode<T> f_tmp_336 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node.getBits(), __tmp297.getBits(),__tmp293));
			PriorityQueueNode<T> __tmp298 = f_tmp_336;
			node = __tmp298;
			Boolean[] f_tmp_337 = top.id;
			Boolean[] __tmp299 = f_tmp_337;
			Boolean[] f_tmp_338 = this.size;
			Boolean[] __tmp300 = f_tmp_338;
			Boolean f_tmp_339 = intLib.eq(__tmp299, __tmp300);
			Boolean __tmp301 = f_tmp_339;
			Boolean f_tmp_340 = intLib.and(__tmp293,__tmp301);
			Boolean __tmp302 = f_tmp_340;
			PriorityQueueNode<T> f_tmp_341 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(ret.getBits(), node.getBits(),__tmp302));
			PriorityQueueNode<T> __tmp303 = f_tmp_341;
			ret = __tmp303;
			Boolean f_tmp_342 = intLib.not(__tmp301);
			Boolean __tmp304 = f_tmp_342;
			Boolean f_tmp_343 = intLib.and(__tmp293,__tmp304);
			Boolean __tmp305 = f_tmp_343;
			Boolean[] f_tmp_344 = this.size;
			Boolean[] __tmp306 = f_tmp_344;
			Boolean f_tmp_345 = this.should_go_left(__tmp306, level);
			Boolean __tmp307 = f_tmp_345;
			Boolean f_tmp_346 = intLib.mux(go_left, __tmp307,__tmp305);
			Boolean __tmp308 = f_tmp_346;
			go_left = __tmp308;
			NodeId f_tmp_347 = node.right;
			NodeId __tmp309 = f_tmp_347;
			NodeId f_tmp_348 = new NodeId(env, m).newObj(intLib.mux(next.getBits(), __tmp309.getBits(),__tmp305));
			NodeId __tmp310 = f_tmp_348;
			next = __tmp310;
			boolean f_tmp_349 = true;
			boolean __tmp311 = f_tmp_349;
			Boolean f_tmp_351 = env.inputOfAlice(__tmp311);
			Boolean f_tmp_350 = intLib.eq(go_left, f_tmp_351);
			Boolean __tmp312 = f_tmp_350;
			Boolean f_tmp_352 = intLib.and(__tmp305,__tmp312);
			Boolean __tmp313 = f_tmp_352;
			NodeId f_tmp_353 = node.left;
			NodeId __tmp314 = f_tmp_353;
			NodeId f_tmp_354 = new NodeId(env, m).newObj(intLib.mux(next.getBits(), __tmp314.getBits(),__tmp313));
			NodeId __tmp315 = f_tmp_354;
			next = __tmp315;
			Boolean f_tmp_355 = intLib.not(__tmp312);
			Boolean __tmp316 = f_tmp_355;
			Boolean f_tmp_356 = intLib.and(__tmp305,__tmp316);
			Boolean __tmp317 = f_tmp_356;
			boolean f_tmp_357 = true;
			boolean __tmp318 = f_tmp_357;
			Boolean f_tmp_359 = env.inputOfAlice(__tmp318);
			Boolean f_tmp_358 = intLib.eq(dummy_bit, f_tmp_359);
			Boolean __tmp319 = f_tmp_358;
			Boolean[] f_tmp_360 = top.id;
			Boolean[] __tmp320 = f_tmp_360;
			Boolean[] f_tmp_361 = this.size;
			Boolean[] __tmp321 = f_tmp_361;
			Boolean f_tmp_362 = intLib.not(intLib.geq(__tmp320, __tmp321));
			Boolean __tmp322 = f_tmp_362;
			Boolean f_tmp_363 = intLib.and(__tmp319,__tmp322);
			Boolean __tmp323 = f_tmp_363;
			Boolean f_tmp_364 = intLib.and(__tmp305,__tmp323);
			Boolean __tmp324 = f_tmp_364;
			boolean f_tmp_365 = true;
			boolean __tmp325 = f_tmp_365;
			Boolean f_tmp_367 = env.inputOfAlice(__tmp325);
			Boolean f_tmp_366 = intLib.mux(newdummy_bit, f_tmp_367,__tmp324);
			Boolean __tmp326 = f_tmp_366;
			newdummy_bit = __tmp326;
			Boolean f_tmp_368 = intLib.not(__tmp323);
			Boolean __tmp327 = f_tmp_368;
			Boolean f_tmp_369 = intLib.and(__tmp305,__tmp327);
			Boolean __tmp328 = f_tmp_369;
			boolean f_tmp_370 = false;
			boolean __tmp329 = f_tmp_370;
			Boolean f_tmp_372 = env.inputOfAlice(__tmp329);
			Boolean f_tmp_371 = intLib.mux(newdummy_bit, f_tmp_372,__tmp328);
			Boolean __tmp330 = f_tmp_371;
			newdummy_bit = __tmp330;
			int f_tmp_373 = 1;
			int __tmp331 = f_tmp_373;
			int f_tmp_374 = level + __tmp331;
			int __tmp332 = f_tmp_374;
			PriorityQueueNode<T> f_tmp_375 = this.get_last(next, __tmp332, newdummy_bit);
			PriorityQueueNode<T> __tmp333 = f_tmp_375;
			PriorityQueueNode<T> f_tmp_376 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(child.getBits(), __tmp333.getBits(),__tmp305));
			PriorityQueueNode<T> __tmp334 = f_tmp_376;
			child = __tmp334;
			boolean f_tmp_377 = true;
			boolean __tmp335 = f_tmp_377;
			Boolean f_tmp_379 = env.inputOfAlice(__tmp335);
			Boolean f_tmp_378 = intLib.eq(go_left, f_tmp_379);
			Boolean __tmp336 = f_tmp_378;
			Boolean f_tmp_380 = intLib.and(__tmp305,__tmp336);
			Boolean __tmp337 = f_tmp_380;
			NodeId f_tmp_381 = child.left;
			NodeId __tmp338 = f_tmp_381;
			Boolean[] f_tmp_382 = __tmp338.pos;
			Boolean[] __tmp339 = f_tmp_382;
			NodeId f_tmp_383 = node.left;
			NodeId __tmp340 = f_tmp_383;
			Boolean[] f_tmp_384 = __tmp340.pos;
			Boolean[] __tmp341 = f_tmp_384;
			Boolean[] f_tmp_385 = intLib.mux(__tmp341, __tmp339,__tmp337);
			Boolean[] __tmp342 = f_tmp_385;
			__tmp340.pos = __tmp342;
			Boolean f_tmp_386 = intLib.not(__tmp336);
			Boolean __tmp343 = f_tmp_386;
			Boolean f_tmp_387 = intLib.and(__tmp305,__tmp343);
			Boolean __tmp344 = f_tmp_387;
			NodeId f_tmp_388 = child.left;
			NodeId __tmp345 = f_tmp_388;
			Boolean[] f_tmp_389 = __tmp345.pos;
			Boolean[] __tmp346 = f_tmp_389;
			NodeId f_tmp_390 = node.right;
			NodeId __tmp347 = f_tmp_390;
			Boolean[] f_tmp_391 = __tmp347.pos;
			Boolean[] __tmp348 = f_tmp_391;
			Boolean[] f_tmp_392 = intLib.mux(__tmp348, __tmp346,__tmp344);
			Boolean[] __tmp349 = f_tmp_392;
			__tmp347.pos = __tmp349;
			Boolean[] f_tmp_393 = intLib.randBools(m);
			Boolean[] __tmp350 = f_tmp_393;
			Boolean[] f_tmp_394 = top.pos;
			Boolean[] __tmp351 = f_tmp_394;
			Boolean[] f_tmp_395 = intLib.mux(__tmp351, __tmp350,__tmp305);
			Boolean[] __tmp352 = f_tmp_395;
			top.pos = __tmp352;
			Boolean[] f_tmp_396 = top.id;
			Boolean[] __tmp353 = f_tmp_396;
			Boolean[] f_tmp_397 = top.pos;
			Boolean[] __tmp354 = f_tmp_397;
			CircuitOram<Boolean> f_tmp_398 = this.poram;
			CircuitOram<Boolean> __tmp355 = f_tmp_398;
			__tmp355.conditionalPutBack(__tmp353, __tmp354, node.getBits(), __tmp305);
			Boolean[] f_tmp_400 = top.pos;
			Boolean[] __tmp357 = f_tmp_400;
			NodeId f_tmp_401 = child.left;
			NodeId __tmp358 = f_tmp_401;
			Boolean[] f_tmp_402 = __tmp358.pos;
			Boolean[] __tmp359 = f_tmp_402;
			Boolean[] f_tmp_403 = intLib.mux(__tmp359, __tmp357,__tmp305);
			Boolean[] __tmp360 = f_tmp_403;
			__tmp358.pos = __tmp360;
			PriorityQueueNode<T> f_tmp_404 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(ret.getBits(), child.getBits(),__tmp305));
			PriorityQueueNode<T> __tmp361 = f_tmp_404;
			ret = __tmp361;
			Boolean f_tmp_405 = intLib.not(__tmp293);
			Boolean __tmp362 = f_tmp_405;
		} else {
		}
		return ret;
	}
	public void insert(KeyValue<T> kv, Boolean dummy_bit) throws Exception {
		KeyValue<T> parent_kv = new KeyValue<T>(env, m, factoryT);
		int f_tmp_406 = 1;
		int __tmp363 = f_tmp_406;
		int f_tmp_407 = 15;
		int __tmp364 = f_tmp_407;
		int f_tmp_408 = 1;
		int __tmp365 = f_tmp_408;
		int f_tmp_409 = __tmp364 - __tmp365;
		int __tmp366 = f_tmp_409;
		int f_tmp_410 = __tmp363 << __tmp366;
		int __tmp367 = f_tmp_410;
		Boolean[] f_tmp_411 = env.inputOfAlice(Utils.fromInt(__tmp367, 32));
		parent_kv.key = f_tmp_411;
		boolean f_tmp_412 = true;
		boolean __tmp368 = f_tmp_412;
		Boolean f_tmp_414 = env.inputOfAlice(__tmp368);
		Boolean f_tmp_413 = intLib.eq(dummy_bit, f_tmp_414);
		Boolean __tmp369 = f_tmp_413;
		Boolean[] f_tmp_415 = this.size;
		Boolean[] __tmp370 = f_tmp_415;
		int f_tmp_416 = 1;
		int __tmp371 = f_tmp_416;
		Boolean[] f_tmp_418 = env.inputOfAlice(Utils.fromInt(__tmp371, m));
		Boolean[] f_tmp_417 = intLib.add(__tmp370,f_tmp_418);
		Boolean[] __tmp372 = f_tmp_417;
		Boolean[] f_tmp_419 = this.size;
		Boolean[] __tmp373 = f_tmp_419;
		Boolean[] f_tmp_420 = intLib.mux(__tmp373, __tmp372,__tmp369);
		Boolean[] __tmp374 = f_tmp_420;
		this.size = __tmp374;
		NodeId f_tmp_421 = this.root;
		NodeId __tmp375 = f_tmp_421;
		Boolean[] f_tmp_422 = __tmp375.id;
		Boolean[] __tmp376 = f_tmp_422;
		NodeId f_tmp_423 = this.root;
		NodeId __tmp377 = f_tmp_423;
		Boolean[] f_tmp_424 = __tmp377.pos;
		Boolean[] __tmp378 = f_tmp_424;
		int f_tmp_425 = 1;
		int __tmp379 = f_tmp_425;
		Boolean[] f_tmp_426 = this.insert_internal(kv, parent_kv, __tmp376, __tmp378, __tmp379, dummy_bit);
		Boolean[] __tmp380 = f_tmp_426;
		NodeId f_tmp_427 = this.root;
		NodeId __tmp381 = f_tmp_427;
		Boolean[] f_tmp_428 = __tmp381.pos;
		Boolean[] __tmp382 = f_tmp_428;
		Boolean[] f_tmp_429 = intLib.mux(__tmp382, __tmp380,__tmp369);
		Boolean[] __tmp383 = f_tmp_429;
		__tmp381.pos = __tmp383;
		Boolean f_tmp_430 = intLib.not(__tmp369);
		Boolean __tmp384 = f_tmp_430;

	}
	public Boolean[] insert_internal(KeyValue<T> kv, KeyValue<T> parent_kv, Boolean[] iter_id, Boolean[] iter_pos, int level, Boolean dummy_bit) throws Exception {
		Boolean[] ret = intLib.randBools(m);
		Boolean newdummy_bit = env.inputOfAlice(false);
		PriorityQueueNode<T> node = new PriorityQueueNode<T>(env, m, factoryT);
		Boolean go_left = env.inputOfAlice(false);
		NodeId next = new NodeId(env, m);
		Boolean[] newId = intLib.randBools(m);
		boolean f_tmp_431 = false;
		boolean __tmp385 = f_tmp_431;
		newdummy_bit = env.inputOfAlice(__tmp385);
		boolean f_tmp_432 = level < m;
		boolean __tmp386 = f_tmp_432;
		if(__tmp386) {
			boolean f_tmp_433 = true;
			boolean __tmp387 = f_tmp_433;
			Boolean f_tmp_435 = env.inputOfAlice(__tmp387);
			Boolean f_tmp_434 = intLib.eq(dummy_bit, f_tmp_435);
			Boolean __tmp388 = f_tmp_434;
			Boolean[] f_tmp_436 = this.size;
			Boolean[] __tmp389 = f_tmp_436;
			Boolean f_tmp_437 = intLib.leq(iter_id, __tmp389);
			Boolean __tmp390 = f_tmp_437;
			Boolean f_tmp_438 = intLib.and(__tmp388,__tmp390);
			Boolean __tmp391 = f_tmp_438;
			Boolean[] f_tmp_439 = this.size;
			Boolean[] __tmp392 = f_tmp_439;
			Boolean f_tmp_440 = intLib.eq(iter_id, __tmp392);
			Boolean __tmp393 = f_tmp_440;
			Boolean f_tmp_441 = intLib.and(__tmp391,__tmp393);
			Boolean __tmp394 = f_tmp_441;
			KeyValue<T> f_tmp_442 = node.keyvalue;
			KeyValue<T> __tmp395 = f_tmp_442;
			KeyValue<T> f_tmp_443 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp395.getBits(), kv.getBits(),__tmp394));
			KeyValue<T> __tmp396 = f_tmp_443;
			node.keyvalue = __tmp396;
			Boolean[] f_tmp_444 = parent_kv.key;
			Boolean[] __tmp397 = f_tmp_444;
			Boolean[] f_tmp_445 = kv.key;
			Boolean[] __tmp398 = f_tmp_445;
			Boolean f_tmp_446 = intLib.not(intLib.geq(__tmp397, __tmp398));
			Boolean __tmp399 = f_tmp_446;
			Boolean f_tmp_447 = intLib.and(__tmp394,__tmp399);
			Boolean __tmp400 = f_tmp_447;
			KeyValue<T> f_tmp_448 = node.keyvalue;
			KeyValue<T> __tmp401 = f_tmp_448;
			KeyValue<T> f_tmp_449 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp401.getBits(), parent_kv.getBits(),__tmp400));
			KeyValue<T> __tmp402 = f_tmp_449;
			node.keyvalue = __tmp402;
			Boolean f_tmp_450 = intLib.not(__tmp399);
			Boolean __tmp403 = f_tmp_450;
			Boolean f_tmp_451 = intLib.and(__tmp394,__tmp403);
			Boolean __tmp404 = f_tmp_451;
			Boolean f_tmp_452 = intLib.not(__tmp393);
			Boolean __tmp405 = f_tmp_452;
			Boolean f_tmp_453 = intLib.and(__tmp391,__tmp405);
			Boolean __tmp406 = f_tmp_453;
			CircuitOram<Boolean> f_tmp_454 = this.poram;
			CircuitOram<Boolean> __tmp407 = f_tmp_454;
			PriorityQueueNode<T> f_tmp_455 = new PriorityQueueNode<T>(env, m, factoryT).newObj(__tmp407.conditionalReadAndRemove(iter_id, iter_pos, __tmp406));
			PriorityQueueNode<T> __tmp408 = f_tmp_455;
			PriorityQueueNode<T> f_tmp_456 = new PriorityQueueNode<T>(env, m, factoryT).newObj(intLib.mux(node.getBits(), __tmp408.getBits(),__tmp406));
			PriorityQueueNode<T> __tmp409 = f_tmp_456;
			node = __tmp409;
			Boolean[] f_tmp_457 = this.size;
			Boolean[] __tmp410 = f_tmp_457;
			Boolean f_tmp_458 = this.should_go_left(__tmp410, level);
			Boolean __tmp411 = f_tmp_458;
			Boolean f_tmp_459 = intLib.mux(go_left, __tmp411,__tmp406);
			Boolean __tmp412 = f_tmp_459;
			go_left = __tmp412;
			NodeId f_tmp_460 = node.right;
			NodeId __tmp413 = f_tmp_460;
			NodeId f_tmp_461 = new NodeId(env, m).newObj(intLib.mux(next.getBits(), __tmp413.getBits(),__tmp406));
			NodeId __tmp414 = f_tmp_461;
			next = __tmp414;
			boolean f_tmp_462 = true;
			boolean __tmp415 = f_tmp_462;
			Boolean f_tmp_464 = env.inputOfAlice(__tmp415);
			Boolean f_tmp_463 = intLib.eq(go_left, f_tmp_464);
			Boolean __tmp416 = f_tmp_463;
			Boolean f_tmp_465 = intLib.and(__tmp406,__tmp416);
			Boolean __tmp417 = f_tmp_465;
			NodeId f_tmp_466 = node.left;
			NodeId __tmp418 = f_tmp_466;
			NodeId f_tmp_467 = new NodeId(env, m).newObj(intLib.mux(next.getBits(), __tmp418.getBits(),__tmp417));
			NodeId __tmp419 = f_tmp_467;
			next = __tmp419;
			Boolean f_tmp_468 = intLib.not(__tmp416);
			Boolean __tmp420 = f_tmp_468;
			Boolean f_tmp_469 = intLib.and(__tmp406,__tmp420);
			Boolean __tmp421 = f_tmp_469;
			boolean f_tmp_470 = true;
			boolean __tmp422 = f_tmp_470;
			Boolean f_tmp_472 = env.inputOfAlice(__tmp422);
			Boolean f_tmp_471 = intLib.eq(dummy_bit, f_tmp_472);
			Boolean __tmp423 = f_tmp_471;
			Boolean[] f_tmp_473 = this.size;
			Boolean[] __tmp424 = f_tmp_473;
			Boolean f_tmp_474 = intLib.not(intLib.geq(iter_id, __tmp424));
			Boolean __tmp425 = f_tmp_474;
			Boolean f_tmp_475 = intLib.and(__tmp423,__tmp425);
			Boolean __tmp426 = f_tmp_475;
			Boolean f_tmp_476 = intLib.and(__tmp406,__tmp426);
			Boolean __tmp427 = f_tmp_476;
			boolean f_tmp_477 = true;
			boolean __tmp428 = f_tmp_477;
			Boolean f_tmp_479 = env.inputOfAlice(__tmp428);
			Boolean f_tmp_478 = intLib.mux(newdummy_bit, f_tmp_479,__tmp427);
			Boolean __tmp429 = f_tmp_478;
			newdummy_bit = __tmp429;
			Boolean f_tmp_480 = intLib.not(__tmp426);
			Boolean __tmp430 = f_tmp_480;
			Boolean f_tmp_481 = intLib.and(__tmp406,__tmp430);
			Boolean __tmp431 = f_tmp_481;
			boolean f_tmp_482 = false;
			boolean __tmp432 = f_tmp_482;
			Boolean f_tmp_484 = env.inputOfAlice(__tmp432);
			Boolean f_tmp_483 = intLib.mux(newdummy_bit, f_tmp_484,__tmp431);
			Boolean __tmp433 = f_tmp_483;
			newdummy_bit = __tmp433;
			KeyValue<T> f_tmp_485 = node.keyvalue;
			KeyValue<T> __tmp434 = f_tmp_485;
			Boolean[] f_tmp_486 = next.id;
			Boolean[] __tmp435 = f_tmp_486;
			Boolean[] f_tmp_487 = next.pos;
			Boolean[] __tmp436 = f_tmp_487;
			int f_tmp_488 = 1;
			int __tmp437 = f_tmp_488;
			int f_tmp_489 = level + __tmp437;
			int __tmp438 = f_tmp_489;
			Boolean[] f_tmp_490 = this.insert_internal(kv, __tmp434, __tmp435, __tmp436, __tmp438, newdummy_bit);
			Boolean[] __tmp439 = f_tmp_490;
			Boolean[] f_tmp_491 = intLib.mux(newId, __tmp439,__tmp406);
			Boolean[] __tmp440 = f_tmp_491;
			newId = __tmp440;
			KeyValue<T> f_tmp_492 = node.keyvalue;
			KeyValue<T> __tmp441 = f_tmp_492;
			Boolean[] f_tmp_493 = __tmp441.key;
			Boolean[] __tmp442 = f_tmp_493;
			Boolean[] f_tmp_494 = kv.key;
			Boolean[] __tmp443 = f_tmp_494;
			Boolean f_tmp_495 = intLib.not(intLib.geq(__tmp442, __tmp443));
			Boolean __tmp444 = f_tmp_495;
			Boolean f_tmp_496 = intLib.and(__tmp406,__tmp444);
			Boolean __tmp445 = f_tmp_496;
			KeyValue<T> f_tmp_497 = node.keyvalue;
			KeyValue<T> __tmp446 = f_tmp_497;
			KeyValue<T> f_tmp_498 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp446.getBits(), kv.getBits(),__tmp445));
			KeyValue<T> __tmp447 = f_tmp_498;
			node.keyvalue = __tmp447;
			Boolean[] f_tmp_499 = kv.key;
			Boolean[] __tmp448 = f_tmp_499;
			Boolean[] f_tmp_500 = parent_kv.key;
			Boolean[] __tmp449 = f_tmp_500;
			Boolean f_tmp_501 = intLib.not(intLib.leq(__tmp448, __tmp449));
			Boolean __tmp450 = f_tmp_501;
			Boolean f_tmp_502 = intLib.and(__tmp445,__tmp450);
			Boolean __tmp451 = f_tmp_502;
			KeyValue<T> f_tmp_503 = node.keyvalue;
			KeyValue<T> __tmp452 = f_tmp_503;
			KeyValue<T> f_tmp_504 = new KeyValue<T>(env, m, factoryT).newObj(intLib.mux(__tmp452.getBits(), parent_kv.getBits(),__tmp451));
			KeyValue<T> __tmp453 = f_tmp_504;
			node.keyvalue = __tmp453;
			Boolean f_tmp_505 = intLib.not(__tmp450);
			Boolean __tmp454 = f_tmp_505;
			Boolean f_tmp_506 = intLib.and(__tmp445,__tmp454);
			Boolean __tmp455 = f_tmp_506;
			Boolean f_tmp_507 = intLib.not(__tmp444);
			Boolean __tmp456 = f_tmp_507;
			Boolean f_tmp_508 = intLib.and(__tmp406,__tmp456);
			Boolean __tmp457 = f_tmp_508;
			boolean f_tmp_509 = true;
			boolean __tmp458 = f_tmp_509;
			Boolean f_tmp_511 = env.inputOfAlice(__tmp458);
			Boolean f_tmp_510 = intLib.eq(go_left, f_tmp_511);
			Boolean __tmp459 = f_tmp_510;
			Boolean f_tmp_512 = intLib.and(__tmp406,__tmp459);
			Boolean __tmp460 = f_tmp_512;
			NodeId f_tmp_513 = node.left;
			NodeId __tmp461 = f_tmp_513;
			Boolean[] f_tmp_514 = __tmp461.pos;
			Boolean[] __tmp462 = f_tmp_514;
			Boolean[] f_tmp_515 = intLib.mux(__tmp462, newId,__tmp460);
			Boolean[] __tmp463 = f_tmp_515;
			__tmp461.pos = __tmp463;
			Boolean f_tmp_516 = intLib.not(__tmp459);
			Boolean __tmp464 = f_tmp_516;
			Boolean f_tmp_517 = intLib.and(__tmp406,__tmp464);
			Boolean __tmp465 = f_tmp_517;
			NodeId f_tmp_518 = node.right;
			NodeId __tmp466 = f_tmp_518;
			Boolean[] f_tmp_519 = __tmp466.pos;
			Boolean[] __tmp467 = f_tmp_519;
			Boolean[] f_tmp_520 = intLib.mux(__tmp467, newId,__tmp465);
			Boolean[] __tmp468 = f_tmp_520;
			__tmp466.pos = __tmp468;
			int f_tmp_521 = 1;
			int __tmp469 = f_tmp_521;
			Boolean[] f_tmp_522 = intLib.leftPublicShift(iter_id, __tmp469);
			Boolean[] __tmp470 = f_tmp_522;
			NodeId f_tmp_523 = node.left;
			NodeId __tmp471 = f_tmp_523;
			Boolean[] f_tmp_524 = __tmp471.id;
			Boolean[] __tmp472 = f_tmp_524;
			Boolean[] f_tmp_525 = intLib.mux(__tmp472, __tmp470,__tmp391);
			Boolean[] __tmp473 = f_tmp_525;
			__tmp471.id = __tmp473;
			NodeId f_tmp_526 = node.left;
			NodeId __tmp474 = f_tmp_526;
			Boolean[] f_tmp_527 = __tmp474.id;
			Boolean[] __tmp475 = f_tmp_527;
			int f_tmp_528 = 1;
			int __tmp476 = f_tmp_528;
			Boolean[] f_tmp_530 = env.inputOfAlice(Utils.fromInt(__tmp476, m));
			Boolean[] f_tmp_529 = intLib.add(__tmp475,f_tmp_530);
			Boolean[] __tmp477 = f_tmp_529;
			NodeId f_tmp_531 = node.right;
			NodeId __tmp478 = f_tmp_531;
			Boolean[] f_tmp_532 = __tmp478.id;
			Boolean[] __tmp479 = f_tmp_532;
			Boolean[] f_tmp_533 = intLib.mux(__tmp479, __tmp477,__tmp391);
			Boolean[] __tmp480 = f_tmp_533;
			__tmp478.id = __tmp480;
			Boolean[] f_tmp_534 = intLib.randBools(m);
			Boolean[] __tmp481 = f_tmp_534;
			Boolean[] f_tmp_535 = intLib.mux(ret, __tmp481,__tmp391);
			Boolean[] __tmp482 = f_tmp_535;
			ret = __tmp482;
			CircuitOram<Boolean> f_tmp_536 = this.poram;
			CircuitOram<Boolean> __tmp483 = f_tmp_536;
			__tmp483.conditionalPutBack(iter_id, ret, node.getBits(), __tmp391);
			Boolean f_tmp_538 = intLib.not(__tmp391);
			Boolean __tmp485 = f_tmp_538;
		} else {
		}
		return ret;
	}
}
